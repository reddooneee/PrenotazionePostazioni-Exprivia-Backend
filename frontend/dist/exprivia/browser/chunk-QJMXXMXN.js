import{b as W}from"./chunk-SI2F5UYO.js";import{a as Y}from"./chunk-P2BE77TI.js";import{a as V}from"./chunk-RNCFMLFN.js";import{Da as p,H as D,Ha as s,Ia as I,Nb as j,Ob as H,Pa as n,Pb as R,Qa as a,Ra as d,Ub as $,Wb as G,X as C,Xa as N,Y as T,Ya as c,a as L,b as F,g as B,gb as l,hb as f,ib as S,qa as r,qb as E,r as A,rb as y,ua as P,vb as z,xb as O,za as U}from"./chunk-CEITJAHH.js";var K=()=>[1,2,3,4,5,6,7],q=()=>[1,2,3,4,5,6],k=e=>({hidden:e}),X=()=>[1,2,3,4];function Z(e,i){e&1&&(C(),n(0,"svg",52),d(1,"path",53),a())}function ee(e,i){e&1&&d(0,"div",54)}function te(e,i){if(e&1&&(n(0,"span"),l(1),a()),e&2){let t=c();r(),f(t.stats.totalBookings)}}function ne(e,i){e&1&&d(0,"span",55)}function ie(e,i){if(e&1&&(n(0,"span"),l(1),a()),e&2){let t=c();r(),f(t.stats.todayBookings)}}function ae(e,i){e&1&&d(0,"span",56)}function oe(e,i){if(e&1&&(n(0,"span"),l(1),a()),e&2){let t=c();r(),f(t.stats.weekBookings)}}function re(e,i){e&1&&d(0,"span",56)}function se(e,i){if(e&1&&(n(0,"span"),l(1),a()),e&2){let t=c();r(),f(t.stats.monthBookings)}}function le(e,i){e&1&&d(0,"span",56)}function de(e,i){if(e&1&&(n(0,"span"),l(1),a()),e&2){let t=c();r(),f(t.stats.mostPopularRoom||"N/A")}}function me(e,i){e&1&&d(0,"span",57)}function pe(e,i){if(e&1&&(n(0,"span"),l(1),a()),e&2){let t=c();r(),f(t.stats.mostPopularTimeSlot||"N/A")}}function ce(e,i){e&1&&d(0,"span",58)}function ge(e,i){if(e&1&&(n(0,"span"),l(1),z(2,"number"),a()),e&2){let t=c();r(),S("",O(2,1,t.stats.avgBookingDuration,"1.1-1")||"0","h")}}function ue(e,i){e&1&&d(0,"span",59)}function fe(e,i){if(e&1&&(n(0,"div",60)(1,"div",61)(2,"div",62)(3,"span",63),l(4),a(),n(5,"span",64),l(6),a()(),n(7,"div",65),d(8,"div",66),a()()()),e&2){let t=i.$implicit,o=c();s("ngClass",y(5,k,o.isLoading)),r(4),f(t.roomName),r(2),S("",t.percentage,"%"),r(2),I("width",t.percentage,"%")}}function ve(e,i){e&1&&(n(0,"div",10)(1,"div",61)(2,"div",62),d(3,"span",68)(4,"span",69),a(),d(5,"div",70),a()())}function he(e,i){e&1&&(n(0,"div",42),p(1,ve,6,0,"div",67),a()),e&2&&(r(),s("ngForOf",E(1,X)))}function xe(e,i){e&1&&(n(0,"div",71),l(1," Nessun dato disponibile "),a())}function be(e,i){if(e&1&&(n(0,"div",72)(1,"span",63),l(2),a(),n(3,"div",10)(4,"div",73),d(5,"div",74),a(),n(6,"span",75),l(7),a()()()),e&2){let t=i.$implicit,o=c();s("ngClass",y(5,k,o.isLoading)),r(2),f(t.timeSlot),r(3),I("width",t.count/o.stats.totalBookings*100,"%"),r(2),f(t.count)}}function _e(e,i){e&1&&(n(0,"div",77),d(1,"span",78),n(2,"div",10),d(3,"div",79)(4,"span",80),a()())}function Se(e,i){e&1&&(n(0,"div",46),p(1,_e,5,0,"div",76),a()),e&2&&(r(),s("ngForOf",E(1,q)))}function ye(e,i){e&1&&(n(0,"div",71),l(1," Nessun dato disponibile "),a())}function we(e,i){if(e&1&&(n(0,"div",81),d(1,"div",82),n(2,"span",83),l(3),a(),n(4,"span",84),l(5),a()()),e&2){let t=i.$implicit,o=c();s("ngClass",y(5,k,o.isLoading)),r(),I("height",o.getWeeklyTrendHeight(t.count),"%"),r(2),f(t.day),r(2),f(t.count)}}function Ce(e,i){if(e&1&&(n(0,"div",81),d(1,"div",85)(2,"span",86)(3,"span",87),a()),e&2){let t=c();s("ngClass",y(1,k,!t.isLoading))}}function ke(e,i){if(e&1&&(n(0,"div",81),d(1,"div",88),n(2,"span",83),l(3),a(),n(4,"span",84),l(5),a()()),e&2){let t=i.$implicit,o=c();s("ngClass",y(5,k,o.isLoading)),r(),I("height",o.getMonthlyTrendHeight(t.count),"%"),r(2),f(t.month),r(2),f(t.count)}}function Te(e,i){if(e&1&&(n(0,"div",81),d(1,"div",89)(2,"span",86)(3,"span",87),a()),e&2){let t=c();s("ngClass",y(1,k,!t.isLoading))}}function Ie(e,i){if(e&1&&(n(0,"span"),l(1),a()),e&2){let t=c(2);r(),f(t.stats.totalUsers)}}function Ee(e,i){e&1&&d(0,"span",100)}function Me(e,i){if(e&1&&(n(0,"span"),l(1),a()),e&2){let t=c(2);r(),f(t.stats.roomUtilization.length)}}function Pe(e,i){e&1&&d(0,"span",101)}function De(e,i){if(e&1&&(n(0,"span"),l(1),a()),e&2){let t=c(2);r(),f(t.stats.timeSlotDistribution.length)}}function ze(e,i){e&1&&d(0,"span",102)}function Oe(e,i){if(e&1&&(n(0,"span"),l(1),z(2,"number"),a()),e&2){let t=c(2);r(),S("",O(2,1,t.getTodayPercentage(),"1.0-0")||0,"%")}}function Le(e,i){e&1&&d(0,"span",103)}function Fe(e,i){if(e&1&&(n(0,"div",90)(1,"div",8)(2,"div",91)(3,"div",3),p(4,Ie,2,1,"span",17)(5,Ee,1,0,"span",92),a(),n(6,"div",93),l(7,"Utenti Attivi"),a()(),n(8,"div",91)(9,"div",94),p(10,Me,2,1,"span",17)(11,Pe,1,0,"span",95),a(),n(12,"div",93),l(13,"Stanze Utilizzate"),a()(),n(14,"div",91)(15,"div",96),p(16,De,2,1,"span",17)(17,ze,1,0,"span",97),a(),n(18,"div",93),l(19,"Fasce Orarie Attive"),a()(),n(20,"div",91)(21,"div",98),p(22,Oe,3,4,"span",17)(23,Le,1,0,"span",99),a(),n(24,"div",93),l(25,"Prenotazioni Oggi"),a()()()()),e&2){let t=c();r(4),s("ngIf",!t.isLoading),r(),s("ngIf",t.isLoading),r(5),s("ngIf",!t.isLoading),r(),s("ngIf",t.isLoading),r(5),s("ngIf",!t.isLoading),r(),s("ngIf",t.isLoading),r(5),s("ngIf",!t.isLoading),r(),s("ngIf",t.isLoading)}}var Q=class e{constructor(i,t,o){this.prenotazioneService=i;this.authService=t;this.adminService=o}destroy$=new B;stats={totalBookings:0,todayBookings:0,weekBookings:0,monthBookings:0,mostPopularRoom:"",mostPopularTimeSlot:"",avgBookingDuration:0,totalUsers:0,usersWithBookings:0,roomUtilization:[],timeSlotDistribution:[],weeklyTrend:[],monthlyTrend:[]};isLoading=!0;isRefreshing=!1;isAdmin=!1;ngOnInit(){this.checkUserRole(),this.loadStats()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}checkUserRole(){this.authService.getIdentity().pipe(D(this.destroy$)).subscribe(i=>{this.isAdmin=i?.authorities?.includes("ROLE_ADMIN")||!1})}loadStats(i=!1){i?this.isRefreshing=!0:this.isLoading=!0,A({prenotazioni:this.prenotazioneService.getPrenotazioni(),users:this.adminService.getAllUsers()}).pipe(D(this.destroy$)).subscribe({next:({prenotazioni:t,users:o})=>{this.calculateStats(t,o.length),i?this.isRefreshing=!1:this.isLoading=!1},error:t=>{console.error("Error loading stats:",t),i?this.isRefreshing=!1:this.isLoading=!1}})}calculateStats(i,t){let o=new Date,g=new Date(o.getFullYear(),o.getMonth(),o.getDate()),u=new Date(g.getTime()-7*24*60*60*1e3),v=new Date(g.getTime()-30*24*60*60*1e3),x=i.map(m=>F(L({},m),{data_inizio:this.parseDate(m.data_inizio),data_fine:this.parseDate(m.data_fine)}));this.stats.totalBookings=x.length,this.stats.todayBookings=x.filter(m=>m.data_inizio>=g&&m.data_inizio<new Date(g.getTime()+24*60*60*1e3)).length,this.stats.weekBookings=x.filter(m=>m.data_inizio>=u).length,this.stats.monthBookings=x.filter(m=>m.data_inizio>=v).length;let w=new Set(x.map(m=>m.users?.id_user));this.stats.usersWithBookings=w.size,this.stats.totalUsers=t;let _=new Map;x.forEach(m=>{let h=m.stanze?.nome||"N/A";_.set(h,(_.get(h)||0)+1)}),this.stats.mostPopularRoom=this.getMostPopular(_);let b=new Map;x.forEach(m=>{let h=this.getTimeSlot(m.data_inizio);b.set(h,(b.get(h)||0)+1)}),this.stats.mostPopularTimeSlot=this.getMostPopular(b);let M=x.reduce((m,h)=>{let J=(h.data_fine.getTime()-h.data_inizio.getTime())/36e5;return m+J},0);this.stats.avgBookingDuration=M/x.length||0,this.stats.roomUtilization=Array.from(_.entries()).map(([m,h])=>({roomName:m,percentage:Math.round(h/this.stats.totalBookings*100)})).sort((m,h)=>h.percentage-m.percentage).slice(0,5),this.stats.timeSlotDistribution=Array.from(b.entries()).map(([m,h])=>({timeSlot:m,count:h})).sort((m,h)=>h.count-m.count),this.stats.weeklyTrend=this.calculateWeeklyTrend(x),this.stats.monthlyTrend=this.calculateMonthlyTrend(x)}parseDate(i){if(i instanceof Date)return i;if(Array.isArray(i)){let[t,o,g,u,v]=i;return new Date(t,o-1,g,u,v)}if(typeof i=="string"){if(i.includes(",")){let[t,o,g,u,v]=i.split(",").map(Number);return new Date(t,o-1,g,u,v)}return new Date(i)}return new Date}getTimeSlot(i){let t=i.getHours();return`${t.toString().padStart(2,"0")}:00 - ${(t+1).toString().padStart(2,"0")}:00`}getMostPopular(i){if(i.size===0)return"N/A";let t=0,o="";return i.forEach((g,u)=>{g>t&&(t=g,o=u)}),o}calculateWeeklyTrend(i){let o=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map(u=>({day:u,count:0})),g=new Date;for(let u=6;u>=0;u--){let v=new Date(g.getTime()-u*24*60*60*1e3),x=(v.getDay()+6)%7,w=new Date(v.getFullYear(),v.getMonth(),v.getDate()),_=new Date(w.getTime()+24*60*60*1e3),b=i.filter(M=>M.data_inizio>=w&&M.data_inizio<_).length;o[x].count=b}return o}calculateMonthlyTrend(i){let t=["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],o=[],g=new Date;for(let u=5;u>=0;u--){let v=new Date(g.getFullYear(),g.getMonth()-u,1),x=new Date(v.getFullYear(),v.getMonth(),1),w=new Date(v.getFullYear(),v.getMonth()+1,1),_=i.filter(b=>b.data_inizio>=x&&b.data_inizio<w).length;o.push({month:t[v.getMonth()],count:_})}return o}refreshStats(){this.loadStats(!0)}getWeeklyTrendHeight(i){if(this.stats.weeklyTrend.length===0)return 0;let t=Math.max(...this.stats.weeklyTrend.map(o=>o.count));return t>0?i/t*100:0}getMonthlyTrendHeight(i){if(this.stats.monthlyTrend.length===0)return 0;let t=Math.max(...this.stats.monthlyTrend.map(o=>o.count));return t>0?i/t*100:0}getTodayPercentage(){return this.stats.totalBookings>0?this.stats.todayBookings/this.stats.totalBookings*100:0}static \u0275fac=function(t){return new(t||e)(P(V),P(W),P(Y))};static \u0275cmp=U({type:e,selectors:[["app-stats"]],decls:105,vars:33,consts:[[1,"max-w-7xl","mx-auto","p-4","sm:p-6","space-y-6"],[1,"bg-white","rounded-xl","shadow-sm","p-6","border","border-gray-100"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-4"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],[1,"inline-flex","items-center","px-4","py-2","bg-blue-600","hover:bg-blue-700","disabled:bg-blue-400","disabled:cursor-not-allowed","text-white","rounded-lg","transition-colors","duration-200",3,"click","disabled"],["class","w-4 h-4 mr-2","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"bg-white","rounded-xl","shadow-sm","p-6","border","border-gray-100","hover:shadow-md","transition-shadow","duration-200"],[1,"flex","items-center"],[1,"p-3","rounded-lg","bg-blue-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-600"],[1,"text-2xl","font-semibold","text-gray-900"],[4,"ngIf"],["class","inline-block w-16 h-6 bg-gray-200 rounded animate-pulse",4,"ngIf"],[1,"p-3","rounded-lg","bg-green-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["class","inline-block w-12 h-6 bg-gray-200 rounded animate-pulse",4,"ngIf"],[1,"p-3","rounded-lg","bg-purple-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"p-3","rounded-lg","bg-orange-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-orange-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[1,"bg-gradient-to-br","from-blue-50","to-indigo-100","rounded-xl","p-6","border","border-blue-200"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-2xl","font-bold","text-blue-600"],["class","inline-block w-24 h-6 bg-blue-200 rounded animate-pulse",4,"ngIf"],[1,"bg-gradient-to-br","from-green-50","to-emerald-100","rounded-xl","p-6","border","border-green-200"],[1,"text-xl","font-bold","text-green-600"],["class","inline-block w-20 h-5 bg-green-200 rounded animate-pulse",4,"ngIf"],[1,"bg-gradient-to-br","from-purple-50","to-violet-100","rounded-xl","p-6","border","border-purple-200"],[1,"text-2xl","font-bold","text-purple-600"],["class","inline-block w-16 h-6 bg-purple-200 rounded animate-pulse",4,"ngIf"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"space-y-4"],["class","flex items-center",3,"ngClass",4,"ngFor","ngForOf"],["class","space-y-4",4,"ngIf"],["class","text-center text-gray-500 py-8",4,"ngIf"],[1,"space-y-3"],["class","flex items-center justify-between",3,"ngClass",4,"ngFor","ngForOf"],["class","space-y-3",4,"ngIf"],[1,"flex","items-end","justify-between","h-40","space-x-2"],["class","flex flex-col items-center flex-1",3,"ngClass",4,"ngFor","ngForOf"],["class","bg-gradient-to-br from-gray-50 to-slate-100 rounded-xl p-6 border border-gray-200",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"animate-spin","rounded-full","h-4","w-4","border-b-2","border-white","mr-2"],[1,"inline-block","w-16","h-6","bg-gray-200","rounded","animate-pulse"],[1,"inline-block","w-12","h-6","bg-gray-200","rounded","animate-pulse"],[1,"inline-block","w-24","h-6","bg-blue-200","rounded","animate-pulse"],[1,"inline-block","w-20","h-5","bg-green-200","rounded","animate-pulse"],[1,"inline-block","w-16","h-6","bg-purple-200","rounded","animate-pulse"],[1,"flex","items-center",3,"ngClass"],[1,"flex-1"],[1,"flex","justify-between","items-center","mb-1"],[1,"text-sm","font-medium","text-gray-700"],[1,"text-sm","text-gray-500"],[1,"w-full","bg-gray-200","rounded-full","h-2"],[1,"bg-gradient-to-r","from-blue-500","to-blue-600","h-2","rounded-full","transition-all","duration-300"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"inline-block","w-24","h-4","bg-gray-200","rounded","animate-pulse"],[1,"inline-block","w-8","h-4","bg-gray-200","rounded","animate-pulse"],[1,"w-full","bg-gray-200","rounded-full","h-2","animate-pulse"],[1,"text-center","text-gray-500","py-8"],[1,"flex","items-center","justify-between",3,"ngClass"],[1,"w-24","bg-gray-200","rounded-full","h-2","mr-3"],[1,"bg-gradient-to-r","from-green-500","to-green-600","h-2","rounded-full"],[1,"text-sm","text-gray-500","w-8"],["class","flex items-center justify-between",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between"],[1,"inline-block","w-16","h-4","bg-gray-200","rounded","animate-pulse"],[1,"w-24","bg-gray-200","rounded-full","h-2","mr-3","animate-pulse"],[1,"inline-block","w-6","h-4","bg-gray-200","rounded","animate-pulse"],[1,"flex","flex-col","items-center","flex-1",3,"ngClass"],[1,"w-full","bg-gradient-to-t","from-blue-500","to-blue-400","rounded-t-md","transition-all","duration-300","min-h-[4px]"],[1,"text-xs","text-gray-500","mt-2"],[1,"text-xs","font-medium","text-gray-700"],[1,"w-full","bg-gray-200","rounded-t-md","animate-pulse",2,"height","60%"],[1,"inline-block","w-6","h-3","bg-gray-200","rounded","mt-2","animate-pulse"],[1,"inline-block","w-4","h-3","bg-gray-200","rounded","animate-pulse"],[1,"w-full","bg-gradient-to-t","from-purple-500","to-purple-400","rounded-t-md","transition-all","duration-300","min-h-[4px]"],[1,"w-full","bg-gray-200","rounded-t-md","animate-pulse",2,"height","45%"],[1,"bg-gradient-to-br","from-gray-50","to-slate-100","rounded-xl","p-6","border","border-gray-200"],[1,"text-center"],["class","inline-block w-12 h-8 bg-gray-300 rounded animate-pulse",4,"ngIf"],[1,"text-sm","text-gray-600","mt-1"],[1,"text-3xl","font-bold","text-blue-600"],["class","inline-block w-8 h-8 bg-blue-300 rounded animate-pulse",4,"ngIf"],[1,"text-3xl","font-bold","text-green-600"],["class","inline-block w-8 h-8 bg-green-300 rounded animate-pulse",4,"ngIf"],[1,"text-3xl","font-bold","text-purple-600"],["class","inline-block w-12 h-8 bg-purple-300 rounded animate-pulse",4,"ngIf"],[1,"inline-block","w-12","h-8","bg-gray-300","rounded","animate-pulse"],[1,"inline-block","w-8","h-8","bg-blue-300","rounded","animate-pulse"],[1,"inline-block","w-8","h-8","bg-green-300","rounded","animate-pulse"],[1,"inline-block","w-12","h-8","bg-purple-300","rounded","animate-pulse"]],template:function(t,o){t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),l(5),a(),n(6,"p",4),l(7),a()(),n(8,"button",5),N("click",function(){return o.refreshStats()}),p(9,Z,2,0,"svg",6)(10,ee,1,0,"div",7),l(11),a()()(),n(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11),C(),n(16,"svg",12),d(17,"path",13),a()(),T(),n(18,"div",14)(19,"p",15),l(20,"Prenotazioni Totali"),a(),n(21,"p",16),p(22,te,2,1,"span",17)(23,ne,1,0,"span",18),a()()()(),n(24,"div",9)(25,"div",10)(26,"div",19),C(),n(27,"svg",20),d(28,"path",21),a()(),T(),n(29,"div",14)(30,"p",15),l(31,"Oggi"),a(),n(32,"p",16),p(33,ie,2,1,"span",17)(34,ae,1,0,"span",22),a()()()(),n(35,"div",9)(36,"div",10)(37,"div",23),C(),n(38,"svg",24),d(39,"path",25),a()(),T(),n(40,"div",14)(41,"p",15),l(42,"Questa Settimana"),a(),n(43,"p",16),p(44,oe,2,1,"span",17)(45,re,1,0,"span",22),a()()()(),n(46,"div",9)(47,"div",10)(48,"div",26),C(),n(49,"svg",27),d(50,"path",28),a()(),T(),n(51,"div",14)(52,"p",15),l(53,"Questo Mese"),a(),n(54,"p",16),p(55,se,2,1,"span",17)(56,le,1,0,"span",22),a()()()()(),n(57,"div",29)(58,"div",30)(59,"h3",31),l(60,"Stanza Pi\xF9 Popolare"),a(),n(61,"p",32),p(62,de,2,1,"span",17)(63,me,1,0,"span",33),a()(),n(64,"div",34)(65,"h3",31),l(66,"Fascia Oraria Preferita"),a(),n(67,"p",35),p(68,pe,2,1,"span",17)(69,ce,1,0,"span",36),a()(),n(70,"div",37)(71,"h3",31),l(72,"Durata Media"),a(),n(73,"p",38),p(74,ge,3,4,"span",17)(75,ue,1,0,"span",39),a()()(),n(76,"div",40)(77,"div",1)(78,"h3",41),l(79,"Utilizzo Stanze"),a(),n(80,"div",42),p(81,fe,9,7,"div",43)(82,he,2,2,"div",44)(83,xe,2,0,"div",45),a()(),n(84,"div",1)(85,"h3",41),l(86,"Distribuzione Orari"),a(),n(87,"div",46),p(88,be,8,7,"div",47)(89,Se,2,2,"div",48)(90,ye,2,0,"div",45),a()()(),n(91,"div",40)(92,"div",1)(93,"h3",41),l(94,"Trend Settimanale"),a(),n(95,"div",49),p(96,we,6,7,"div",50)(97,Ce,4,3,"div",50),a()(),n(98,"div",1)(99,"h3",41),l(100,"Trend Mensile"),a(),n(101,"div",49),p(102,ke,6,7,"div",50)(103,Te,4,3,"div",50),a()()(),p(104,Fe,26,8,"div",51),a()),t&2&&(r(5),S(" ",o.isAdmin?"Statistiche Sistema":"Le tue Statistiche"," "),r(2),S(" ",o.isAdmin?"Panoramica completa delle prenotazioni del sistema":"Panoramica delle tue prenotazioni"," "),r(),s("disabled",o.isRefreshing),r(),s("ngIf",!o.isRefreshing),r(),s("ngIf",o.isRefreshing),r(),S(" ",o.isRefreshing?"Aggiornamento...":"Aggiorna"," "),r(11),s("ngIf",!o.isLoading),r(),s("ngIf",o.isLoading),r(10),s("ngIf",!o.isLoading),r(),s("ngIf",o.isLoading),r(10),s("ngIf",!o.isLoading),r(),s("ngIf",o.isLoading),r(10),s("ngIf",!o.isLoading),r(),s("ngIf",o.isLoading),r(6),s("ngIf",!o.isLoading),r(),s("ngIf",o.isLoading),r(5),s("ngIf",!o.isLoading),r(),s("ngIf",o.isLoading),r(5),s("ngIf",!o.isLoading),r(),s("ngIf",o.isLoading),r(6),s("ngForOf",o.stats.roomUtilization),r(),s("ngIf",o.isLoading),r(),s("ngIf",!o.isLoading&&o.stats.roomUtilization.length===0),r(5),s("ngForOf",o.stats.timeSlotDistribution.slice(0,6)),r(),s("ngIf",o.isLoading),r(),s("ngIf",!o.isLoading&&o.stats.timeSlotDistribution.length===0),r(6),s("ngForOf",o.stats.weeklyTrend),r(),s("ngForOf",E(31,K)),r(5),s("ngForOf",o.stats.monthlyTrend),r(),s("ngForOf",E(32,q)),r(),s("ngIf",o.isAdmin))},dependencies:[G,j,H,R,$],styles:[".stat-card[_ngcontent-%COMP%]{transition:all .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000001a}.gradient-blue[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.gradient-green[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.gradient-purple[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.gradient-orange[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7)}.progress-bar[_ngcontent-%COMP%]{transition:width .8s ease-in-out}.chart-bar[_ngcontent-%COMP%]{transition:height .6s ease-in-out;animation:_ngcontent-%COMP%_slideUp .6s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{height:0;opacity:0}to{height:var(--final-height);opacity:1}}.refresh-btn[_ngcontent-%COMP%]{transition:all .2s ease}.refresh-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.refresh-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.metric-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 20px 40px #0000001a}.gradient-text[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}@media (max-width: 768px){.chart-container[_ngcontent-%COMP%]{height:200px}.metric-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}"]})};export{Q as StatsComponent};
