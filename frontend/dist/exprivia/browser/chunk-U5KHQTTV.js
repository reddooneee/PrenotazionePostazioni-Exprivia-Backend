import{a as ee}from"./chunk-2I77I3E3.js";import{D as Q,F as W,c as S,d as P,f as g,h as z,i as E,o as X,p as x,r as Z,s as Y,x as H,y as J,z as K}from"./chunk-MUYZMUET.js";import{b as B}from"./chunk-SI2F5UYO.js";import{A as F,Da as f,H as L,Ha as m,Ia as A,Ja as v,La as p,Pa as r,Pb as D,Qa as i,Ra as l,V as b,Va as U,W as _,Wb as j,Xa as h,Ya as u,g as T,gb as a,gc as O,hb as M,hc as G,ib as w,jc as $,l as N,qa as n,ua as y,w as R,za as V}from"./chunk-CEITJAHH.js";var I={fadeIn:S("fadeIn",[E(":enter",[g({opacity:0}),P("0.5s ease-out",g({opacity:1}))])]),slideUp:S("slideUp",[E(":enter",[g({opacity:0,transform:"translateY(20px)"}),P("0.5s ease-out",g({opacity:1,transform:"translateY(0)"}))])]),shake:S("shake",[E(":enter",[P("0.5s ease-in-out",z([g({transform:"translateX(0)",offset:0}),g({transform:"translateX(-5px)",offset:.25}),g({transform:"translateX(5px)",offset:.75}),g({transform:"translateX(0)",offset:1})]))])]),scaleIn:S("scaleIn",[E(":enter",[g({opacity:0,transform:"scale(0.95)"}),P("0.3s ease-out",g({opacity:1,transform:"scale(1)"}))])])};function re(s,e){s&1&&(r(0,"div",12)(1,"div",13),l(2,"div",14),r(3,"p",15),a(4,"Caricamento dati profilo..."),i()()())}function ie(s,e){if(s&1&&(r(0,"div",62),l(1,"i",63),a(2),i()),s&2){let t=u(2);n(2),w(" ",t.getNomeErrorMessage()," ")}}function ne(s,e){if(s&1&&(r(0,"div",62),l(1,"i",63),a(2),i()),s&2){let t=u(2);n(2),w(" ",t.getCognomeErrorMessage()," ")}}function oe(s,e){if(s&1&&(r(0,"div",62),l(1,"i",63),a(2),i()),s&2){let t=u(2);n(2),w(" ",t.getEmailErrorMessage()," ")}}function se(s,e){if(s&1&&(r(0,"div",62),l(1,"i",63),a(2),i()),s&2){let t=u(2);n(2),w(" ",t.getCurrentPasswordErrorMessage()," ")}}function ae(s,e){if(s&1&&(r(0,"div",64)(1,"div",65),l(2,"div",66)(3,"div",66)(4,"div",66)(5,"div",66),i(),r(6,"span",67),a(7),i()()),s&2){let t=u(2);n(2),p(t.passwordStrength>=1?"bg-red-400":"bg-gray-200"),n(),p(t.passwordStrength>=2?"bg-orange-400":"bg-gray-200"),n(),p(t.passwordStrength>=3?"bg-yellow-400":"bg-gray-200"),n(),p(t.passwordStrength>=4?"bg-green-400":"bg-gray-200"),n(),p(t.passwordStrengthColor),n(),M(t.passwordStrengthText)}}function le(s,e){s&1&&l(0,"i",68)}function de(s,e){if(s&1&&(r(0,"div",62),l(1,"i",63),a(2),i()),s&2){let t=u(2);n(2),w(" ",t.getNewPasswordErrorMessage()," ")}}function me(s,e){if(s&1&&(r(0,"div",62),l(1,"i",63),a(2),i()),s&2){let t=u(2);n(2),w(" ",t.getConfirmPasswordErrorMessage()," ")}}function ce(s,e){if(s&1&&(r(0,"div",64)(1,"span",78),a(2,"Forza:"),i(),r(3,"span",79),a(4),i()()),s&2){let t=u(3);n(3),p(t.passwordStrengthColor),n(),M(t.passwordStrengthText)}}function ue(s,e){if(s&1&&(r(0,"div",69)(1,"div",70)(2,"h4",71),a(3,"Requisiti password:"),i(),f(4,ce,5,3,"div",45),i(),r(5,"div",72)(6,"div",73),l(7,"div",74),i()(),r(8,"ul",75)(9,"li",76),l(10,"i",77),r(11,"span"),a(12," Almeno 6 caratteri "),i()(),r(13,"li",76),l(14,"i",77),r(15,"span"),a(16," Almeno una lettera maiuscola "),i()(),r(17,"li",76),l(18,"i",77),r(19,"span"),a(20," Almeno una lettera minuscola "),i()(),r(21,"li",76),l(22,"i",77),r(23,"span"),a(24," Almeno un numero "),i()()()()),s&2){let t=u(2);n(4),m("ngIf",t.passwordStrengthText),n(3),p(t.passwordStrength===1?"bg-red-400":t.passwordStrength===2?"bg-orange-400":t.passwordStrength===3?"bg-yellow-400":t.passwordStrength===4?"bg-green-400":"bg-gray-200"),A("width",t.passwordStrength/4*100,"%"),n(3),p(t.passwordRequirements.minLength?"fa-check-circle text-green-500":"fa-circle text-gray-300"),n(),p(t.passwordRequirements.minLength?"text-green-700":"text-gray-500"),n(3),p(t.passwordRequirements.hasUppercase?"fa-check-circle text-green-500":"fa-circle text-gray-300"),n(),p(t.passwordRequirements.hasUppercase?"text-green-700":"text-gray-500"),n(3),p(t.passwordRequirements.hasLowercase?"fa-check-circle text-green-500":"fa-circle text-gray-300"),n(),p(t.passwordRequirements.hasLowercase?"text-green-700":"text-gray-500"),n(3),p(t.passwordRequirements.hasNumber?"fa-check-circle text-green-500":"fa-circle text-gray-300"),n(),p(t.passwordRequirements.hasNumber?"text-green-700":"text-gray-500")}}function pe(s,e){if(s&1){let t=U();r(0,"div",82),l(1,"i",83),r(2,"div",84)(3,"p",85),a(4,"Errore nell'aggiornamento"),i(),r(5,"p",86),a(6),i()(),r(7,"button",87),h("click",function(){b(t);let c=u(3);return _(c.errorMessage=null)}),l(8,"i",88),i()()}if(s&2){let t=u(3);m("@shake",void 0),n(6),M(t.errorMessage)}}function fe(s,e){if(s&1){let t=U();r(0,"div",89),l(1,"i",90),r(2,"div",84)(3,"p",91),a(4,"Aggiornamento completato"),i(),r(5,"p",92),a(6,"Le modifiche sono state salvate con successo"),i()(),r(7,"button",93),h("click",function(){b(t);let c=u(3);return _(c.updateSuccess=!1)}),l(8,"i",88),i()()}s&2&&m("@scaleIn",void 0)}function ge(s,e){if(s&1&&(r(0,"div",17),f(1,pe,9,2,"div",80)(2,fe,9,1,"div",81),i()),s&2){let t=u(2);n(),m("ngIf",t.errorMessage),n(),m("ngIf",t.updateSuccess)}}function ve(s,e){s&1&&(r(0,"span",94),l(1,"i",95),i())}function xe(s,e){s&1&&l(0,"i",96)}function he(s,e){if(s&1){let t=U();r(0,"div")(1,"form",16),h("ngSubmit",function(){b(t);let c=u();return _(c.onSubmit())}),r(2,"div",17)(3,"div",18)(4,"div",19),l(5,"i",20),i(),r(6,"div")(7,"h3",21),a(8,"Informazioni Personali"),i(),r(9,"p",22),a(10,"Aggiorna i tuoi dati anagrafici"),i()()(),r(11,"div",23)(12,"div")(13,"label",24),a(14," Nome "),r(15,"span",25),a(16,"*"),i()(),l(17,"input",26),f(18,ie,3,1,"div",27),i(),r(19,"div")(20,"label",28),a(21," Cognome "),r(22,"span",25),a(23,"*"),i()(),l(24,"input",29),f(25,ne,3,1,"div",27),i()(),r(26,"div",30)(27,"label",31),a(28," Email "),r(29,"span",25),a(30,"*"),i()(),r(31,"div",32),l(32,"input",33)(33,"i",34),i(),f(34,oe,3,1,"div",27),i()(),r(35,"div",17)(36,"div",18)(37,"div",35),l(38,"i",36),i(),r(39,"div")(40,"h3",21),a(41,"Cambio Password"),i(),r(42,"p",22),a(43,"Lascia vuoti questi campi se non desideri modificare la password"),i()()(),r(44,"div",37)(45,"label",38),a(46," Password Attuale "),i(),r(47,"div",32),l(48,"input",39)(49,"i",40),r(50,"button",41),h("click",function(){b(t);let c=u();return _(c.hideCurrentPwd=!c.hideCurrentPwd)}),l(51,"i",42),i()(),f(52,se,3,1,"div",27),i(),r(53,"div",23)(54,"div")(55,"div",43)(56,"label",44),a(57," Nuova Password "),i(),f(58,ae,8,11,"div",45),i(),r(59,"div",32),l(60,"input",46)(61,"i",47),r(62,"div",48),f(63,le,1,0,"i",49),i(),r(64,"button",41),h("click",function(){b(t);let c=u();return _(c.hideNewPwd=!c.hideNewPwd)}),l(65,"i",42),i()(),f(66,de,3,1,"div",27),i(),r(67,"div")(68,"label",50),a(69," Conferma Password "),i(),r(70,"div",32),l(71,"input",51)(72,"i",52),r(73,"button",41),h("click",function(){b(t);let c=u();return _(c.hideConfirmPwd=!c.hideConfirmPwd)}),l(74,"i",42),i()(),f(75,me,3,1,"div",27),i()(),f(76,ue,25,21,"div",53),i(),f(77,ge,3,2,"div",54),r(78,"div",55)(79,"div",56)(80,"button",57),l(81,"i",58),a(82," Torna alla Dashboard "),i(),r(83,"button",59),f(84,ve,2,0,"span",60)(85,xe,1,0,"i",61),a(86),i()()()()()}if(s&2){let t,d,c,C,k,q,o=u();n(),m("formGroup",o.userForm),n(16),v("border-red-500",o.nomeInvalid)("focus:ring-red-200",o.nomeInvalid)("focus:border-red-500",o.nomeInvalid),n(),m("ngIf",o.nomeInvalid),n(6),v("border-red-500",o.cognomeInvalid)("focus:ring-red-200",o.cognomeInvalid)("focus:border-red-500",o.cognomeInvalid),n(),m("ngIf",o.cognomeInvalid),n(7),v("border-red-500",o.emailInvalid)("focus:ring-red-200",o.emailInvalid)("focus:border-red-500",o.emailInvalid),n(2),m("ngIf",o.emailInvalid),n(14),v("border-red-500",o.currentPasswordInvalid)("focus:ring-red-200",o.currentPasswordInvalid)("focus:border-red-500",o.currentPasswordInvalid),m("type",o.hideCurrentPwd?"password":"text"),n(3),v("fa-eye",o.hideCurrentPwd)("fa-eye-slash",!o.hideCurrentPwd),n(),m("ngIf",o.currentPasswordInvalid),n(6),m("ngIf",((t=o.userForm.get("newPassword"))==null?null:t.value)&&o.passwordStrengthText),n(2),v("border-red-500",o.newPasswordInvalid)("focus:ring-red-200",o.newPasswordInvalid)("focus:border-red-500",o.newPasswordInvalid)("border-green-500",o.passwordStrength===4&&((d=o.userForm.get("newPassword"))==null?null:d.value))("focus:ring-green-200",o.passwordStrength===4&&((c=o.userForm.get("newPassword"))==null?null:c.value))("focus:border-green-500",o.passwordStrength===4&&((C=o.userForm.get("newPassword"))==null?null:C.value)),m("type",o.hideNewPwd?"password":"text"),n(3),m("ngIf",o.passwordStrength===4&&((k=o.userForm.get("newPassword"))==null?null:k.value)),n(2),v("fa-eye",o.hideNewPwd)("fa-eye-slash",!o.hideNewPwd),n(),m("ngIf",o.newPasswordInvalid),n(5),v("border-red-500",o.confirmPasswordInvalid)("focus:ring-red-200",o.confirmPasswordInvalid)("focus:border-red-500",o.confirmPasswordInvalid),m("type",o.hideConfirmPwd?"password":"text"),n(3),v("fa-eye",o.hideConfirmPwd)("fa-eye-slash",!o.hideConfirmPwd),n(),m("ngIf",o.confirmPasswordInvalid),n(),m("ngIf",(q=o.userForm.get("newPassword"))==null?null:q.value),n(),m("ngIf",o.errorMessage||o.updateSuccess),n(6),m("disabled",o.userForm.invalid||o.isLoading),n(),m("ngIf",o.isLoading),n(),m("ngIf",!o.isLoading),n(),w(" ",o.isLoading?"Salvataggio...":"Salva Modifiche"," ")}}var te=class s{constructor(e,t,d,c){this.fb=e;this.authService=t;this.userService=d;this.router=c;this.userForm=this.fb.group({nome:["",[x.required,x.minLength(2)]],cognome:["",[x.required,x.minLength(2)]],email:["",[x.required,x.email]],currentPassword:[""],newPassword:["",[x.minLength(6),x.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{6,}$/)]],confirmPassword:[""]}),this.userForm.get("newPassword")?.valueChanges.subscribe(C=>{this.checkPasswordRequirements(C||""),this.userForm.get("confirmPassword")?.updateValueAndValidity()}),this.userForm.get("confirmPassword")?.setValidators([this.passwordMatchValidator.bind(this)])}userForm;currentUser=null;hideCurrentPwd=!0;hideNewPwd=!0;hideConfirmPwd=!0;isLoading=!1;updateSuccess=!1;errorMessage=null;destroy$=new T;passwordRequirements={minLength:!1,hasUppercase:!1,hasLowercase:!1,hasNumber:!1};ngOnInit(){this.isLoading=!1,this.updateSuccess=!1,this.errorMessage=null,this.loadUserData()}loadUserData(){this.isLoading=!0,this.errorMessage=null,this.authService.identity(!0).pipe(L(this.destroy$),F(()=>{this.isLoading=!1})).subscribe({next:e=>{e?(this.currentUser=e,this.userForm.patchValue({nome:e.nome,cognome:e.cognome,email:e.email}),console.log("Utente caricato correttamente:",e.nome,e.cognome)):(this.errorMessage="Errore nel caricamento dei dati utente",console.warn("Utente non trovato"))},error:e=>{console.error("Errore nel caricamento dei dati utente:",e),this.errorMessage="Errore nel caricamento dei dati utente",this.isLoading=!1}})}checkPasswordRequirements(e){this.passwordRequirements.minLength=e.length>=6,this.passwordRequirements.hasUppercase=/[A-Z]/.test(e),this.passwordRequirements.hasLowercase=/[a-z]/.test(e),this.passwordRequirements.hasNumber=/\d/.test(e)}get passwordStrength(){return Object.values(this.passwordRequirements).filter(t=>t).length}get passwordStrengthText(){let e=this.passwordStrength;return e===0?"":e===1?"Molto debole":e===2?"Debole":e===3?"Buona":"Forte"}get passwordStrengthColor(){let e=this.passwordStrength;return e===0?"text-gray-400":e===1?"text-red-500":e===2?"text-orange-500":e===3?"text-yellow-500":"text-green-500"}passwordMatchValidator(e){if(!e||!this.userForm)return null;let t=this.userForm.get("newPassword")?.value,d=e.value;if((!t||t==="")&&(!d||d===""))return null;if(t&&(!d||d===""))return{required:!0};if(t!==d)return{passwordMismatch:!0};let c=this.userForm.get("currentPassword")?.value;return t&&(!c||c==="")&&this.userForm.get("currentPassword")?.setErrors({required:!0}),null}get nomeInvalid(){let e=this.userForm.get("nome");return e&&e.invalid&&(e.dirty||e.touched)}get cognomeInvalid(){let e=this.userForm.get("cognome");return e&&e.invalid&&(e.dirty||e.touched)}get emailInvalid(){let e=this.userForm.get("email");return e&&e.invalid&&(e.dirty||e.touched)}get currentPasswordInvalid(){let e=this.userForm.get("currentPassword");return e&&e.invalid&&(e.dirty||e.touched)}get newPasswordInvalid(){let e=this.userForm.get("newPassword");return e&&e.invalid&&(e.dirty||e.touched)}get confirmPasswordInvalid(){let e=this.userForm.get("confirmPassword");return e&&e.invalid&&(e.dirty||e.touched)}getNomeErrorMessage(){let e=this.userForm.get("nome");return e?.hasError("required")?"Il nome \xE8 obbligatorio":e?.hasError("minlength")?"Il nome deve contenere almeno 2 caratteri":""}getCognomeErrorMessage(){let e=this.userForm.get("cognome");return e?.hasError("required")?"Il cognome \xE8 obbligatorio":e?.hasError("minlength")?"Il cognome deve contenere almeno 2 caratteri":""}getEmailErrorMessage(){let e=this.userForm.get("email");return e?.hasError("required")?"L'email \xE8 obbligatoria":e?.hasError("email")?"Inserisci un indirizzo email valido":""}getCurrentPasswordErrorMessage(){return this.userForm.get("currentPassword")?.hasError("required")?"La password attuale \xE8 richiesta per modificare la password":""}getNewPasswordErrorMessage(){let e=this.userForm.get("newPassword");return e?.hasError("required")?"La nuova password \xE8 obbligatoria":e?.hasError("minlength")?"La password deve contenere almeno 6 caratteri":e?.hasError("pattern")?"La password deve contenere almeno una maiuscola, una minuscola e un numero":""}getConfirmPasswordErrorMessage(){let e=this.userForm.get("confirmPassword");return e?.hasError("required")?"Conferma la nuova password":e?.hasError("passwordMismatch")?"Le password non corrispondono":""}onSubmit(){if(this.userForm.invalid||this.isLoading)return;this.isLoading=!0,this.errorMessage=null,this.updateSuccess=!1;let e=this.userForm.value,t={nome:e.nome,cognome:e.cognome,email:e.email};if(e.newPassword&&e.currentPassword&&(t.password=e.newPassword,t.currentPassword=e.currentPassword),!this.currentUser?.id_user){this.errorMessage="Errore: dati utente non disponibili",this.isLoading=!1;return}console.log(t),this.userService.updateUser(this.currentUser.id_user,t).pipe(L(this.destroy$),R(d=>(console.error("Update error:",d),d.status===400?this.errorMessage="Dati non validi. Controlla i campi inseriti.":d.status===401?this.errorMessage="Password attuale non corretta.":d.status===409?this.errorMessage="L'email inserita \xE8 gi\xE0 in uso.":this.errorMessage="Errore durante l'aggiornamento del profilo. Riprova pi\xF9 tardi.",N(()=>d))),F(()=>{this.isLoading=!1})).subscribe({next:d=>{this.updateSuccess=!0,this.currentUser=d,this.userForm.patchValue({currentPassword:"",newPassword:"",confirmPassword:""}),this.authService.authenticate(d),setTimeout(()=>{this.updateSuccess=!1},5e3)},error:()=>{}})}forceReset(){console.log("Force reset called - before:",{isLoading:this.isLoading,currentUser:!!this.currentUser}),this.isLoading=!1,this.updateSuccess=!1,this.errorMessage=null,console.log("Force reset called - after:",{isLoading:this.isLoading,currentUser:!!this.currentUser})}resetForm(){console.log("Reset form called - before:",{isLoading:this.isLoading,currentUser:!!this.currentUser}),this.currentUser&&this.userForm.patchValue({nome:this.currentUser.nome,cognome:this.currentUser.cognome,email:this.currentUser.email,currentPassword:"",newPassword:"",confirmPassword:""}),this.passwordRequirements={minLength:!1,hasUppercase:!1,hasLowercase:!1,hasNumber:!1},this.errorMessage=null,this.updateSuccess=!1,this.isLoading=!1,this.userForm.markAsUntouched(),this.userForm.markAsPristine(),Object.keys(this.userForm.controls).forEach(e=>{this.userForm.get(e)?.setErrors(null)}),console.log("Reset form called - after:",{isLoading:this.isLoading,currentUser:!!this.currentUser})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||s)(y(Q),y(B),y(ee),y(O))};static \u0275cmp=V({type:s,selectors:[["app-update-user"]],decls:16,vars:3,consts:[[1,"max-w-7xl","mx-auto","p-4","sm:p-6"],[1,"bg-white","rounded-xl","shadow-sm","p-4","sm:p-6","mb-6"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-bold","text-gray-900","flex","items-center"],[1,"fas","fa-user-edit","text-blue-600","mr-3"],[1,"text-gray-600","mt-1"],[1,"flex","items-center","space-x-4"],["type","button",1,"inline-flex","items-center","px-3","py-2","border","border-gray-300","shadow-sm","text-sm","leading-4","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-undo","mr-2"],[1,"bg-white","rounded-xl","shadow-sm","overflow-hidden"],["class","flex justify-center items-center py-12",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-center","items-center","py-12"],[1,"text-center"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-600","mx-auto","mb-4"],[1,"text-gray-500"],[1,"divide-y","divide-gray-200",3,"ngSubmit","formGroup"],[1,"p-6"],[1,"flex","items-center","mb-6"],[1,"p-2","bg-blue-100","rounded-lg","mr-3"],[1,"fas","fa-user","text-blue-600"],[1,"text-lg","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","nome",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],["id","nome","formControlName","nome","type","text","placeholder","Inserisci il tuo nome",1,"w-full","border","border-gray-300","rounded-lg","px-4","py-3","text-sm","focus:outline-none","focus:border-blue-500","focus:ring-2","focus:ring-blue-200","transition-all","duration-200"],["class","text-xs text-red-600 mt-1 flex items-center",4,"ngIf"],["for","cognome",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","cognome","formControlName","cognome","type","text","placeholder","Inserisci il tuo cognome",1,"w-full","border","border-gray-300","rounded-lg","px-4","py-3","text-sm","focus:outline-none","focus:border-blue-500","focus:ring-2","focus:ring-blue-200","transition-all","duration-200"],[1,"mt-6"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],["id","email","formControlName","email","type","email","placeholder","inserisci@example.com",1,"w-full","border","border-gray-300","rounded-lg","px-4","py-3","pl-10","text-sm","focus:outline-none","focus:border-blue-500","focus:ring-2","focus:ring-blue-200","transition-all","duration-200"],[1,"fas","fa-envelope","absolute","left-3","top-1/2","transform","-translate-y-1/2","text-gray-400"],[1,"p-2","bg-orange-100","rounded-lg","mr-3"],[1,"fas","fa-lock","text-orange-600"],[1,"mb-6"],["for","currentPassword",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","currentPassword","formControlName","currentPassword","placeholder","Inserisci la password attuale",1,"w-full","border","border-gray-300","rounded-lg","px-4","py-3","pl-10","pr-12","text-sm","focus:outline-none","focus:border-blue-500","focus:ring-2","focus:ring-blue-200","transition-all","duration-200",3,"type"],[1,"fas","fa-key","absolute","left-3","top-1/2","transform","-translate-y-1/2","text-gray-400"],["type","button",1,"absolute","right-3","top-1/2","transform","-translate-y-1/2","text-gray-400","hover:text-gray-600","transition-colors",3,"click"],[1,"fas"],[1,"flex","items-center","justify-between","mb-2"],["for","newPassword",1,"block","text-sm","font-medium","text-gray-700"],["class","flex items-center",4,"ngIf"],["id","newPassword","formControlName","newPassword","placeholder","Inserisci nuova password",1,"w-full","border","border-gray-300","rounded-lg","px-4","py-3","pl-10","pr-12","text-sm","focus:outline-none","focus:border-blue-500","focus:ring-2","focus:ring-blue-200","transition-all","duration-200",3,"type"],[1,"fas","fa-lock","absolute","left-3","top-1/2","transform","-translate-y-1/2","text-gray-400"],[1,"absolute","right-12","top-1/2","transform","-translate-y-1/2"],["class","fas fa-check-circle text-green-500 text-sm",4,"ngIf"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","confirmPassword","formControlName","confirmPassword","placeholder","Conferma nuova password",1,"w-full","border","border-gray-300","rounded-lg","px-4","py-3","pl-10","pr-12","text-sm","focus:outline-none","focus:border-blue-500","focus:ring-2","focus:ring-blue-200","transition-all","duration-200",3,"type"],[1,"fas","fa-shield-alt","absolute","left-3","top-1/2","transform","-translate-y-1/2","text-gray-400"],["class","mt-4 p-4 bg-gray-50 rounded-lg",4,"ngIf"],["class","p-6",4,"ngIf"],[1,"px-6","py-4","bg-gray-50","flex","flex-col","sm:flex-row","justify-end","items-center","gap-4"],[1,"flex","space-x-3"],["type","button","routerLink","/dashboard",1,"px-6","py-2.5","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-lg","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","transition-colors","duration-200"],[1,"fas","fa-arrow-left","mr-2"],["type","submit",1,"px-6","py-2.5","text-sm","font-medium","text-white","bg-blue-600","rounded-lg","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50","disabled:cursor-not-allowed","transition-all","duration-200","flex","items-center",3,"disabled"],["class","mr-2",4,"ngIf"],["class","fas fa-save mr-2",4,"ngIf"],[1,"text-xs","text-red-600","mt-1","flex","items-center"],[1,"fas","fa-exclamation-circle","mr-1"],[1,"flex","items-center"],[1,"flex","space-x-1","mr-2"],[1,"w-1.5","h-1.5","rounded-full"],[1,"text-xs","font-medium"],[1,"fas","fa-check-circle","text-green-500","text-sm"],[1,"mt-4","p-4","bg-gray-50","rounded-lg"],[1,"flex","items-center","justify-between","mb-3"],[1,"text-sm","font-medium","text-gray-700"],[1,"mb-3"],[1,"w-full","bg-gray-200","rounded-full","h-1.5"],[1,"h-1.5","rounded-full","transition-all","duration-300"],[1,"text-xs","space-y-1"],[1,"flex","items-center","transition-colors","duration-200"],[1,"fas","mr-2","w-3"],[1,"text-xs","font-medium","mr-2"],[1,"text-xs","font-semibold"],["class","p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3 mb-4",4,"ngIf"],["class","p-4 bg-green-50 border border-green-200 rounded-lg flex items-start gap-3",4,"ngIf"],[1,"p-4","bg-red-50","border","border-red-200","rounded-lg","flex","items-start","gap-3","mb-4"],[1,"fas","fa-exclamation-triangle","text-red-500","mt-0.5"],[1,"flex-1"],[1,"text-sm","font-medium","text-red-800"],[1,"text-sm","text-red-600"],["type","button",1,"text-red-400","hover:text-red-600",3,"click"],[1,"fas","fa-times"],[1,"p-4","bg-green-50","border","border-green-200","rounded-lg","flex","items-start","gap-3"],[1,"fas","fa-check-circle","text-green-500","mt-0.5"],[1,"text-sm","font-medium","text-green-800"],[1,"text-sm","text-green-600"],["type","button",1,"text-green-400","hover:text-green-600",3,"click"],[1,"mr-2"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-save","mr-2"]],template:function(t,d){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),l(5,"i",4),a(6," Aggiorna Profilo "),i(),r(7,"p",5),a(8," Gestisci le tue informazioni personali e le impostazioni dell'account "),i()(),r(9,"div",6)(10,"button",7),h("click",function(){return d.resetForm()}),l(11,"i",8),a(12," Reset "),i()()()(),r(13,"div",9),f(14,re,5,0,"div",10)(15,he,87,72,"div",11),i()()),t&2&&(n(10),m("disabled",d.isLoading),n(4),m("ngIf",d.isLoading&&!d.currentUser),n(),m("ngIf",!d.isLoading||d.currentUser))},dependencies:[j,D,$,G,W,H,X,Z,Y,J,K],encapsulation:2,data:{animation:[I.fadeIn,I.slideUp,I.shake,I.scaleIn]}})};export{I as a,te as b};
