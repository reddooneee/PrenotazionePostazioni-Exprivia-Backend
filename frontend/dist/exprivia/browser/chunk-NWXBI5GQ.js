import{a as me}from"./chunk-PUMGPVZJ.js";import{a as ye}from"./chunk-JNRU5X3C.js";import{a as Ee,b as Ie}from"./chunk-FZYR36Q4.js";import{b as Pe,c as Ce,d as De}from"./chunk-HYC2QBNA.js";import{A as he,B as ze,C as be,D as _e,E as Se,F as xe,p as k,r as ce,s as ge,x as ue,y as fe,z as ve}from"./chunk-MUYZMUET.js";import{b as pe}from"./chunk-SI2F5UYO.js";import{a as we}from"./chunk-RNCFMLFN.js";import{Da as f,Ga as R,H as b,Ha as m,Ja as D,L as $,La as X,Nb as le,O as _,Ob as B,Pa as n,Pb as U,Qa as o,Ra as g,Tb as w,V as S,Va as I,W as x,Wb as q,Xa as h,Ya as v,Zb as de,a as Q,aa as oe,b as K,g as te,gb as l,hb as F,ib as c,j as C,jb as j,mc as H,n as V,pb as ne,qa as s,r as ie,sb as O,tb as ae,ua as y,vb as W,xb as re,za as L,zb as se}from"./chunk-CEITJAHH.js";function Ve(a,t){if(a&1&&(n(0,"div",22)(1,"span",23),g(2,"span",24),n(3,"span",25),l(4),o()()()),a&2){let e=v().$implicit;s(2),D("bg-green-500",e.availableCount>5)("bg-yellow-500",e.availableCount<=5&&e.availableCount>0)("bg-red-500",e.availableCount===0),s(2),F(e.availableCount)}}function $e(a,t){if(a&1){let e=I();n(0,"div",18),h("click",function(){let r=S(e).$implicit,d=v();return x(d.onDateClick(r))})("keydown.enter",function(){let r=S(e).$implicit,d=v();return x(d.onDateClick(r))})("keydown.space",function(){let r=S(e).$implicit,d=v();return x(d.onDateClick(r))}),n(1,"div",19)(2,"span",20),l(3),W(4,"date"),o()(),f(5,Ve,5,7,"div",21),o()}if(a&2){let e=t.$implicit,i=v();D("bg-white",!e.isToday)("bg-blue-50",e.isToday)("text-gray-400",!e.isCurrentMonth)("ring-2",e.isToday)("ring-blue-500",e.isToday)("bg-blue-100",i.isSelected(e))("ring-2",i.isSelected(e))("ring-blue-600",i.isSelected(e))("bg-red-50",e.isWeekend)("text-red-600",e.isWeekend)("opacity-50",e.isDisabled)("cursor-not-allowed",e.isDisabled)("cursor-pointer",!e.isDisabled&&!e.isWeekend)("hover:bg-gray-50",!e.isDisabled&&!e.isWeekend)("hover:scale-105",!e.isDisabled&&!e.isWeekend)("hover:shadow-md",!e.isDisabled&&!e.isWeekend)("hover:z-10",!e.isDisabled&&!e.isWeekend),R("aria-selected",i.isSelected(e))("aria-disabled",e.isDisabled||e.isWeekend),s(3),F(re(4,38,e.date,"d")),s(2),m("ngIf",e.availableCount!==void 0)}}de(me);var G=class a{constructor(t){this.calendarService=t;this.displayDays=this.calendarService.calendarDays,this.currentMonth=this.calendarService.formattedCurrentMonth}view="month";multiSelect=!0;maxSelections=5;selectedDates=[];dateSelectionChange=new oe;displayDays;currentMonth;ngOnInit(){this.calendarService.setView(this.view)}setView(t){this.view=t,this.calendarService.setView(t)}previousPeriod(){this.view==="month"?this.calendarService.previousMonth():this.calendarService.previousWeek()}nextPeriod(){this.view==="month"?this.calendarService.nextMonth():this.calendarService.nextWeek()}onDateClick(t){if(!(t.isDisabled||t.isWeekend))if(this.multiSelect){let e=this.selectedDates.findIndex(i=>i.getDate()===t.date.getDate()&&i.getMonth()===t.date.getMonth()&&i.getFullYear()===t.date.getFullYear());e===-1?this.selectedDates.length<this.maxSelections&&this.selectedDates.push(t.date):this.selectedDates.splice(e,1),this.dateSelectionChange.emit(this.selectedDates)}else this.selectedDates=[t.date],this.dateSelectionChange.emit(this.selectedDates)}isSelected(t){return this.selectedDates.some(e=>e.getDate()===t.date.getDate()&&e.getMonth()===t.date.getMonth()&&e.getFullYear()===t.date.getFullYear())}static \u0275fac=function(e){return new(e||a)(y(ye))};static \u0275cmp=L({type:a,selectors:[["app-calendar"]],inputs:{view:"view",multiSelect:"multiSelect",maxSelections:"maxSelections",selectedDates:"selectedDates"},outputs:{dateSelectionChange:"dateSelectionChange"},decls:33,vars:8,consts:[[1,"bg-white","rounded-xl","shadow-sm","p-4","sm:p-6"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-4","mb-6"],[1,"flex","items-center","space-x-4"],["id","calendar-title",1,"text-lg","sm:text-xl","font-semibold"],[1,"flex","space-x-2"],["type","button","aria-label","Periodo precedente",1,"text-sm","text-gray-500","hover:text-gray-900","transition-colors","duration-200","p-2","rounded-lg","hover:bg-gray-100",3,"click"],[1,"fas","fa-chevron-left"],["type","button","aria-label","Periodo successivo",1,"text-sm","text-gray-500","hover:text-gray-900","transition-colors","duration-200","p-2","rounded-lg","hover:bg-gray-100",3,"click"],[1,"fas","fa-chevron-right"],[1,"flex","items-center","space-x-2"],["type","button","aria-label","Visualizzazione mensile",1,"px-3","py-1","rounded-lg","text-sm","transition-colors","duration-200","hover:bg-gray-100",3,"click"],["type","button","aria-label","Visualizzazione settimanale",1,"px-3","py-1","rounded-lg","text-sm","transition-colors","duration-200","hover:bg-gray-100",3,"click"],[1,"calendar-container","w-full","max-w-4xl","mx-auto"],["role","row",1,"grid","grid-cols-7","mb-2","text-center","text-xs","sm:text-sm","font-medium"],["role","columnheader",1,"py-2"],["role","columnheader",1,"py-2","text-red-500"],["role","grid","aria-labelledby","calendar-title",1,"grid","grid-cols-7","gap-1","sm:gap-2","bg-gray-100","rounded-lg","p-2","sm:p-3"],["class","relative aspect-square flex flex-col items-center justify-center p-1 sm:p-2 rounded-lg transition-all duration-200","role","gridcell","tabindex","0",3,"bg-white","bg-blue-50","text-gray-400","ring-2","ring-blue-500","bg-blue-100","ring-blue-600","bg-red-50","text-red-600","opacity-50","cursor-not-allowed","cursor-pointer","hover:bg-gray-50","hover:scale-105","hover:shadow-md","hover:z-10","click","keydown.enter","keydown.space",4,"ngFor","ngForOf"],["role","gridcell","tabindex","0",1,"relative","aspect-square","flex","flex-col","items-center","justify-center","p-1","sm:p-2","rounded-lg","transition-all","duration-200",3,"click","keydown.enter","keydown.space"],[1,"flex","flex-col","items-center"],[1,"text-xs","sm:text-sm","font-medium"],["class","absolute top-1 right-1 text-xs",4,"ngIf"],[1,"absolute","top-1","right-1","text-xs"],[1,"flex","items-center"],["aria-hidden","true",1,"w-1.5","h-1.5","sm:w-2","sm:h-2","rounded-full"],[1,"hidden","sm:inline","ml-1"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),l(4),o(),n(5,"div",4)(6,"button",5),h("click",function(){return i.previousPeriod()}),g(7,"i",6),o(),n(8,"button",7),h("click",function(){return i.nextPeriod()}),g(9,"i",8),o()()(),n(10,"div",9)(11,"button",10),h("click",function(){return i.setView("month")}),l(12," Mese "),o(),n(13,"button",11),h("click",function(){return i.setView("week")}),l(14," Settimana "),o()()(),n(15,"div",12)(16,"div",13)(17,"div",14),l(18,"Lun"),o(),n(19,"div",14),l(20,"Mar"),o(),n(21,"div",14),l(22,"Mer"),o(),n(23,"div",14),l(24,"Gio"),o(),n(25,"div",14),l(26,"Ven"),o(),n(27,"div",15),l(28,"Sab"),o(),n(29,"div",15),l(30,"Dom"),o()(),n(31,"div",16),f(32,$e,6,41,"div",17),o()()()),e&2&&(s(4),c(" ",i.currentMonth()," "),s(7),D("bg-blue-100",i.view==="month"),R("aria-pressed",i.view==="month"),s(2),D("bg-blue-100",i.view==="week"),R("aria-pressed",i.view==="week"),s(19),m("ngForOf",i.displayDays()))},dependencies:[q,B,U,w,Se],encapsulation:2})};var Y=class a{constructor(t){this.axiosService=t}BASE_URL="/api/cose-durata";getAllCoseDurata(){return C(this.axiosService.get(this.BASE_URL))}getCosaDurataByNome(t){return C(this.axiosService.get(`${this.BASE_URL}/${t}`))}createCosaDurata(t){return C(this.axiosService.post(this.BASE_URL,t))}updateCosaDurata(t,e){return C(this.axiosService.put(`${this.BASE_URL}/${t}`,e))}deleteCosaDurata(t){return C(this.axiosService.delete(`${this.BASE_URL}/${t}`))}getCoseDurataByPrenotazione(t){return C(this.axiosService.get(`${this.BASE_URL}/prenotazione/${t}`))}static \u0275fac=function(e){return new(e||a)(_(H))};static \u0275prov=$({token:a,factory:a.\u0275fac,providedIn:"root"})};var Z=class a{constructor(t,e,i,r,d){this.axiosService=t;this.stanzaService=e;this.postazioneService=i;this.cosaDurataService=r;this.prenotazioneService=d}ORARI_LAVORATIVI={INIZIO:8,FINE:18};getStanzeWithPostazioni(){return this.stanzaService.getStanzeWithPostazioni().pipe(V(t=>({stanze:t})))}getUserPrenotazioni(){return this.prenotazioneService.getMiePrenotazioni()}getPostazioniByStanza(t,e){let i=e.find(r=>r.id_stanza===t);return i?i.postazioni.filter(r=>r.id_postazione&&r.nomePostazione).map(r=>({id_postazione:r.id_postazione,nomePostazione:r.nomePostazione,stanza_id:t,stanza_nome:i.nome,tipo_stanza:i.tipo_stanza})):[]}getAvailableTimeSlots(t,e){return this.prenotazioneService.getPrenotazioniByDay(t.toISOString().split("T")[0]).pipe(V(i=>{let r=i.filter(d=>d.postazione?.id_postazione===e).map(d=>({start:new Date(d.data_inizio).getHours(),end:new Date(d.data_fine).getHours()}));return this.generateTimeSlots(r)}))}getFileByPrenotazioni(t){return this.prenotazioneService.exportPrenotazioniDaily(t)}createPrenotazione(t){return this.prenotazioneService.createPrenotazione(t).pipe(V(()=>{}))}generateTimeSlots(t){let e=[];for(let i=this.ORARI_LAVORATIVI.INIZIO;i<this.ORARI_LAVORATIVI.FINE;i++)t.some(d=>i>=d.start&&i<d.end)||e.push({startTime:`${i.toString().padStart(2,"0")}:00`,endTime:`${(i+1).toString().padStart(2,"0")}:00`});return e}isValidTimeSlot(t){let e=parseInt(t.split(":")[0]);return e>=this.ORARI_LAVORATIVI.INIZIO&&e<this.ORARI_LAVORATIVI.FINE}isWorkingDay(t){let e=t.getDay();return e!==0&&e!==6}getPrenotazioneInfo(){return ie({stanze:this.stanzaService.getStanzeWithPostazioni(),coseDurata:this.cosaDurataService.getAllCoseDurata()})}getPrenotazioni(){return this.prenotazioneService.getPrenotazioni()}getMiePrenotazioni(){return this.prenotazioneService.getMiePrenotazioni()}deletePrenotazione(t){return this.prenotazioneService.deletePrenotazione(t)}static \u0275fac=function(e){return new(e||a)(_(H),_(Ie),_(Ee),_(Y),_(we))};static \u0275prov=$({token:a,factory:a.\u0275fac,providedIn:"root"})};var J=(a,t)=>({"bg-blue-600":a,"bg-gray-300":t}),We=(a,t,e)=>({"bg-green-100 text-green-800":a,"bg-yellow-100 text-yellow-800":t,"bg-red-100 text-red-800":e});function Be(a,t){a&1&&(n(0,"div",41),l(1," Seleziona una data dal calendario "),o())}function Ue(a,t){if(a&1){let e=I();n(0,"div",42)(1,"span"),l(2),W(3,"date"),o(),n(4,"button",43),h("click",function(){let r=S(e).$implicit,d=v();return x(d.removeDateFromSelection(r))}),g(5,"i",44),o()()}if(a&2){let e=t.$implicit;s(2),F(se(3,1,e,"EEEE d MMMM yyyy","","it"))}}function qe(a,t){if(a&1&&(n(0,"option",45),l(1),o()),a&2){let e=t.$implicit;m("value",e),s(),c(" ",e," ")}}function He(a,t){a&1&&(n(0,"div",46),g(1,"i",47),l(2," Seleziona prima il tipo di stanza "),o())}function Ge(a,t){if(a&1&&(n(0,"option",45),l(1),o()),a&2){let e=t.$implicit;m("value",e.id_postazione),s(),j(" ",e.nomePostazione," - ",e.stanza_nome," ")}}function Ye(a,t){if(a&1&&(n(0,"div",48),g(1,"i",47),l(2),o()),a&2){let e,i=v();s(2),c(" Postazione selezionata nella stanza: ",i.getStanzaName((e=i.bookingForm.get("id_stanza"))==null?null:e.value)," ")}}function Ze(a,t){a&1&&(n(0,"div",46),g(1,"i",47),l(2," Seleziona prima una postazione "),o())}function Je(a,t){a&1&&(n(0,"div",46),g(1,"i",47),l(2," Seleziona una data dal calendario per vedere gli orari disponibili "),o())}function Qe(a,t){if(a&1&&(n(0,"option",45),l(1),o()),a&2){let e=t.$implicit;m("value",e.startTime+" - "+e.endTime),s(),j(" ",e.startTime," - ",e.endTime," ")}}function Ke(a,t){a&1&&(n(0,"span",49),g(1,"i",50),o())}function Xe(a,t){if(a&1&&(n(0,"div",51),l(1),o()),a&2){let e=v();X(e.state.errorMessage.includes("successo")?"text-green-600":"text-red-600"),s(),c(" ",e.state.errorMessage," ")}}function et(a,t){a&1&&(n(0,"p"),l(1,"Compila tutti i campi obbligatori"),o())}function tt(a,t){a&1&&(n(0,"p"),l(1,"Seleziona una data"),o())}function it(a,t){a&1&&(n(0,"p"),l(1,"Seleziona il tipo di stanza"),o())}function ot(a,t){a&1&&(n(0,"p"),l(1,"Seleziona una postazione"),o())}function nt(a,t){a&1&&(n(0,"p"),l(1,"Seleziona una fascia oraria"),o())}function at(a,t){if(a&1&&(n(0,"div",52),f(1,et,2,0,"p",53)(2,tt,2,0,"p",53)(3,it,2,0,"p",53)(4,ot,2,0,"p",53)(5,nt,2,0,"p",53),o()),a&2){let e,i,r,d=v();s(),m("ngIf",!d.bookingForm.valid),s(),m("ngIf",d.state.selectedDates.length===0),s(),m("ngIf",!((e=d.bookingForm.get("tipo_stanza"))!=null&&e.value)),s(),m("ngIf",!((i=d.bookingForm.get("id_postazione"))!=null&&i.value)),s(),m("ngIf",!((r=d.bookingForm.get("timeSlot"))!=null&&r.value))}}function rt(a,t){a&1&&(n(0,"div",54),g(1,"div",55),o())}function st(a,t){if(a&1&&(n(0,"div",56),l(1),o()),a&2){let e=v();s(),c(" ",e.state.errorMessage," ")}}function lt(a,t){if(a&1){let e=I();n(0,"tr",64)(1,"td",65),l(2),o(),n(3,"td",65),l(4),o(),n(5,"td",66)(6,"div",67)(7,"div",68)(8,"div",69),l(9),o(),n(10,"div",70),l(11),o()()()(),n(12,"td",66)(13,"div",68)(14,"div",69),l(15),o(),n(16,"div",70),l(17),o()()(),n(18,"td",66)(19,"div",68)(20,"div",69),l(21),o(),n(22,"div",70),l(23),o()()(),n(24,"td",66)(25,"span",71),l(26),o()(),n(27,"td",72)(28,"button",73),h("click",function(){let r=S(e).$implicit,d=v(2);return x(d.deletePrenotazione(r))}),g(29,"i",74),l(30," Elimina "),o()()()}if(a&2){let e=t.$implicit,i=v(2);s(2),c(" ",i.formatDate(e.data_inizio,"dd/MM/yyyy")," "),s(2),c(" ",i.getFormattedTimeRange(e.data_inizio,e.data_fine)," "),s(5),j(" ",e.users.nome||"N/A"," ",e.users.cognome||""," "),s(2),c(" ",e.users.email||"N/A"," "),s(4),c(" ",e.stanze.nome," "),s(2),c(" ID: ",e.stanze.id_stanza," "),s(4),c(" ",e.postazione.nomePostazione," "),s(2),c(" ID: ",e.postazione.id_postazione," "),s(2),m("ngClass",ae(12,We,e.stato_prenotazione==="Confermata",e.stato_prenotazione==="InAttesa",e.stato_prenotazione==="Annullata")),s(),c(" ",e.stato_prenotazione," "),s(2),m("disabled",i.state.isLoading)}}function dt(a,t){a&1&&(n(0,"tr")(1,"td",75)(2,"div",76),g(3,"i",77),n(4,"p"),l(5,"Nessuna prenotazione trovata"),o()()()())}function mt(a,t){if(a&1){let e=I();n(0,"div",57)(1,"table",58)(2,"thead",59)(3,"tr")(4,"th",60)(5,"button",61),h("click",function(){S(e);let r=v();return x(r.sortTable("data_inizio"))}),n(6,"span"),l(7,"Data"),o(),g(8,"i"),o()(),n(9,"th",60),l(10,"Orario"),o(),n(11,"th",60),l(12,"Utente"),o(),n(13,"th",60),l(14,"Stanza"),o(),n(15,"th",60),l(16,"Postazione"),o(),n(17,"th",60),l(18,"Stato"),o(),n(19,"th",60),l(20,"Azioni"),o()()(),n(21,"tbody",62),f(22,lt,31,16,"tr",63)(23,dt,6,0,"tr",53),o()()()}if(a&2){let e=v();s(5),D("text-blue-600",e.isSortedColumn("data_inizio")),s(3),X(e.getSortIcon("data_inizio")),s(14),m("ngForOf",e.sortedPrenotazioni),s(),m("ngIf",!(e.sortedPrenotazioni!=null&&e.sortedPrenotazioni.length)&&!e.state.isLoading)}}var ke=class a{constructor(t,e,i,r,d){this.fb=t;this.authService=e;this.prenotazionePosizioneService=i;this.toastService=r;this.datePipe=d;this.bookingForm=this.fb.group({tipo_stanza:["",k.required],id_stanza:[null,k.required],id_postazione:[null,k.required],timeSlot:["",k.required],selectedDate:[null,k.required],note:[""]})}bookingForm;state={stanze:[],postazioniDisponibili:[],selectedDates:[],availableTimeSlots:[],isLoading:!1,errorMessage:""};tipiStanza=[];prenotazioni=[];sortedPrenotazioni=[];coseDurata=[];destroy$=new te;sortColumn="data_inizio";sortDirection="desc";timeSlots=[{label:"08:00 - 09:00",start:"08:00",end:"09:00"},{label:"09:00 - 10:00",start:"09:00",end:"10:00"},{label:"10:00 - 11:00",start:"10:00",end:"11:00"},{label:"11:00 - 12:00",start:"11:00",end:"12:00"},{label:"12:00 - 13:00",start:"12:00",end:"13:00"},{label:"13:00 - 14:00",start:"13:00",end:"14:00"},{label:"14:00 - 15:00",start:"14:00",end:"15:00"},{label:"15:00 - 16:00",start:"15:00",end:"16:00"},{label:"16:00 - 17:00",start:"16:00",end:"17:00"},{label:"17:00 - 18:00",start:"17:00",end:"18:00"}];ngOnInit(){this.loadPrenotazioneInfo(),this.setupFormSubscriptions(),this.loadMiePrenotazioni()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadPrenotazioneInfo(){this.state.isLoading=!0,this.prenotazionePosizioneService.getStanzeWithPostazioni().pipe(b(this.destroy$)).subscribe({next:t=>{this.state.stanze=t.stanze,this.tipiStanza=[...new Set(t.stanze.map(e=>e.tipo_stanza))].filter(Boolean),this.state.isLoading=!1},error:t=>{console.error("Errore nel caricamento delle informazioni:",t),this.state.errorMessage="Errore nel caricamento delle informazioni",this.showErrorToast("Errore di Caricamento","Impossibile caricare le informazioni delle stanze. Ricarica la pagina per riprovare."),this.state.isLoading=!1}})}setupFormSubscriptions(){console.log("Stato iniziale del form:",{formValues:this.bookingForm.value,formValid:this.bookingForm.valid,formTouched:this.bookingForm.touched,formDirty:this.bookingForm.dirty}),this.bookingForm.valueChanges.pipe(b(this.destroy$)).subscribe(t=>{console.log("Form aggiornato:",{values:t,valid:this.bookingForm.valid,touched:this.bookingForm.touched,dirty:this.bookingForm.dirty,errors:this.bookingForm.errors,controls:{tipo_stanza:{value:this.bookingForm.get("tipo_stanza")?.value,valid:this.bookingForm.get("tipo_stanza")?.valid,errors:this.bookingForm.get("tipo_stanza")?.errors},id_postazione:{value:this.bookingForm.get("id_postazione")?.value,valid:this.bookingForm.get("id_postazione")?.valid,errors:this.bookingForm.get("id_postazione")?.errors},timeSlot:{value:this.bookingForm.get("timeSlot")?.value,valid:this.bookingForm.get("timeSlot")?.valid,errors:this.bookingForm.get("timeSlot")?.errors}}})}),this.bookingForm.get("tipo_stanza")?.valueChanges.pipe(b(this.destroy$)).subscribe(t=>{if(console.log("Tipo stanza cambiato:",t),this.bookingForm.patchValue({id_stanza:null,id_postazione:null,timeSlot:""}),t){console.log("Stanze disponibili:",this.state.stanze);let e=this.state.stanze.filter(i=>i.tipo_stanza===t);console.log("Stanze filtrate per tipo:",e),this.state.postazioniDisponibili=e.flatMap(i=>(console.log("Elaborazione stanza:",i),i.postazioni.filter(r=>r.id_postazione!==void 0&&r.nomePostazione!==void 0).map(r=>({id_postazione:r.id_postazione,nomePostazione:r.nomePostazione,stanza_id:i.id_stanza,stanza_nome:i.nome,tipo_stanza:i.tipo_stanza})))),console.log("Postazioni disponibili aggiornate:",this.state.postazioniDisponibili)}else this.state.postazioniDisponibili=[]}),this.bookingForm.get("id_postazione")?.valueChanges.pipe(b(this.destroy$)).subscribe(t=>{if(console.log("Postazione cambiata:",t),t){console.log("Cercando postazione tra:",this.state.postazioniDisponibili);let e=Number(t),i=this.state.postazioniDisponibili.find(r=>r.id_postazione===e);console.log("Postazione trovata:",i),i?(console.log("Aggiornamento id_stanza da",this.bookingForm.get("id_stanza")?.value,"a",i.stanza_id),this.bookingForm.patchValue({id_stanza:i.stanza_id},{emitEvent:!1}),this.state.selectedDates.length>0&&(console.log("Caricamento slot per nuova postazione selezionata"),this.loadAvailableTimeSlots(e))):console.error("Postazione non trovata per id:",t)}else console.log("Reset id_stanza a null"),this.bookingForm.patchValue({id_stanza:null},{emitEvent:!1})})}loadAvailableTimeSlots(t){if(this.state.selectedDates.length===0)return;this.state.isLoading=!0;let e=this.state.selectedDates[0];console.log("Data selezionata per il caricamento degli slot:",e),this.prenotazionePosizioneService.getAvailableTimeSlots(e,t).pipe(b(this.destroy$)).subscribe({next:i=>{console.log("Slot disponibili ricevuti:",i),this.state.availableTimeSlots=i.map(r=>({startTime:r.start||r.startTime,endTime:r.end||r.endTime})),console.log("Stato dopo aggiornamento:",{availableSlots:this.state.availableTimeSlots.length,hasPostazione:!!this.bookingForm.get("id_postazione")?.value}),this.state.isLoading=!1},error:i=>{console.error("Errore nel caricamento degli orari:",i),this.state.errorMessage="Errore nel caricamento degli orari disponibili",this.showErrorToast("Orari Non Disponibili","Impossibile caricare gli orari disponibili per questa postazione. Prova a selezionare un'altra postazione."),this.state.isLoading=!1}})}onDateSelectionChange(t){console.log("Date selezionate:",t),this.state.selectedDates=t,t.length>0?this.bookingForm.patchValue({selectedDate:t[0]}):this.bookingForm.patchValue({selectedDate:null}),this.state.availableTimeSlots=[],this.bookingForm.patchValue({timeSlot:""});let e=this.bookingForm.get("id_postazione")?.value;console.log("Stato attuale:",{postazioneId:e,hasPostazione:!!e,hasDates:t.length>0,availableSlots:this.state.availableTimeSlots.length}),e&&t.length>0&&(console.log("Caricamento slot disponibili per postazione:",e),this.loadAvailableTimeSlots(e))}removeDateFromSelection(t){this.state.selectedDates=this.state.selectedDates.filter(i=>i.getTime()!==t.getTime());let e=this.bookingForm.get("id_postazione")?.value;e&&this.state.selectedDates.length>0?this.loadAvailableTimeSlots(e):this.state.selectedDates.length===0&&(this.state.availableTimeSlots=[])}onSubmit(){if(this.bookingForm.valid){let t=this.bookingForm.value,e=t.selectedDate,i=t.timeSlot;if(!i){this.showErrorToast("Selezione Incompleta","Seleziona un orario per completare la prenotazione");return}this.state.isLoading=!0,this.showInfoToast("Elaborazione in corso","Stiamo creando la tua prenotazione...");try{let r=new Date(e),d=new Date(e),[u,z]=i.split(" - ")[0].split(":"),[M,A]=i.split(" - ")[1].split(":");r.setHours(parseInt(u),parseInt(z),0,0),d.setHours(parseInt(M),parseInt(A),0,0);let T=p=>{let E=p.getFullYear(),N=String(p.getMonth()+1).padStart(2,"0"),Te=String(p.getDate()).padStart(2,"0"),Fe=String(p.getHours()).padStart(2,"0"),Oe=String(p.getMinutes()).padStart(2,"0"),Me=String(p.getSeconds()).padStart(2,"0");return`${E}-${N}-${Te} ${Fe}:${Oe}:${Me}`};console.log("Form Data:",{raw:t,selectedDate:e,selectedTimeSlot:i,startDateTime:r,endDateTime:d});let P={id_postazione:parseInt(t.id_postazione),id_stanza:parseInt(t.id_stanza),data_inizio:T(r),data_fine:T(d)};if(!P.id_postazione||!P.id_stanza)throw new Error("ID postazione o ID stanza non validi");if(!this.isValidDate(r)||!this.isValidDate(d))throw new Error("Date non valide");console.log("Sending reservation request:",P),this.prenotazionePosizioneService.createPrenotazione(P).subscribe({next:p=>{console.log("Prenotazione creata:",p),this.clearAllToasts(),this.showSuccessToast("Prenotazione Confermata!",`La tua postazione \xE8 stata prenotata per ${this.formatDate(e,"dd/MM/yyyy")} dalle ${i}`),this.resetForm(),this.loadMiePrenotazioni(),this.state.isLoading=!1},error:p=>{console.error("Errore completo nella creazione della prenotazione:",p),this.clearAllToasts();let E="Si \xE8 verificato un errore durante la creazione della prenotazione",N="Errore nella Prenotazione";p.response?.data?.message?E=p.response.data.message:p.message&&(E=p.message,p.message.includes("gi\xE0 prenotata")&&(N="Postazione Non Disponibile",E="La postazione selezionata \xE8 gi\xE0 prenotata per questo orario. Seleziona un altro orario o postazione.")),this.showErrorToast(N,E),this.state.isLoading=!1}})}catch(r){console.error("Errore nella preparazione della prenotazione:",r),this.clearAllToasts(),this.showErrorToast("Errore di Validazione",r instanceof Error?r.message:"I dati inseriti non sono validi. Controlla i campi e riprova."),this.state.isLoading=!1}}else{let t=[];this.bookingForm.valid||t.push("Compila tutti i campi richiesti"),this.state.selectedDates.length===0&&t.push("Seleziona una data"),this.bookingForm.get("timeSlot")?.value||t.push("Seleziona un orario"),this.showWarningToast("Campi Mancanti",t.join(", "))}}resetForm(){this.bookingForm.reset(),this.state.selectedDates=[],this.state.availableTimeSlots=[],this.state.errorMessage=""}getStanzaName(t){if(!t)return"";let e=this.state.stanze.find(i=>i.id_stanza===t);return e?e.nome:""}isFormValid(){let t=this.bookingForm.controls,e=!!t.tipo_stanza.value&&!!t.id_stanza.value&&!!t.id_postazione.value&&!!t.selectedDate.value&&!!t.timeSlot.value,i=this.bookingForm.valid;return e&&i}loadAllPrenotazioni(){this.state.isLoading=!0,this.prenotazionePosizioneService.getUserPrenotazioni().pipe(b(this.destroy$)).subscribe({next:t=>{console.log("=== DETTAGLIO PRENOTAZIONI ==="),console.log("Numero totale prenotazioni:",t.length),t.forEach((e,i)=>{console.group(`Prenotazione #${i+1}`),console.log("ID:",e.id_prenotazioni),console.log("Data Inizio (raw):",e.data_inizio),console.log("Data Fine (raw):",e.data_fine),console.log("Stato:",e.stato_prenotazione),console.log("Utente:",{id:e.users?.id_user,email:e.users?.email,nome:e.users?.nome,cognome:e.users?.cognome}),console.log("Stanza:",{id:e.stanze?.id_stanza,nome:e.stanze?.nome}),console.log("Postazione:",{id:e.postazione?.id_postazione,nome:e.postazione?.nomePostazione}),console.groupEnd()}),this.prenotazioni=t.map(e=>K(Q({},e),{data_inizio:this.parseDate(e.data_inizio),data_fine:this.parseDate(e.data_fine),stato_prenotazione:e.stato_prenotazione||"Confermata"})),this.state.isLoading=!1,console.log("=== PRENOTAZIONI DOPO PARSING ==="),console.log(JSON.stringify(this.prenotazioni,null,2))},error:t=>{console.error("Errore nel caricamento delle prenotazioni:",t),this.showErrorToast("Errore","Errore nel caricamento delle prenotazioni"),this.state.isLoading=!1}})}loadMiePrenotazioni(){this.state.isLoading=!0,this.prenotazionePosizioneService.getUserPrenotazioni().pipe(b(this.destroy$)).subscribe({next:t=>{console.group("Prenotazioni Utente"),console.log("Raw prenotazioni data:",t),this.prenotazioni=t.map(e=>K(Q({},e),{data_inizio:this.parseDate(e.data_inizio),data_fine:this.parseDate(e.data_fine),stato_prenotazione:e.stato_prenotazione||"Confermata",users:{id_user:e.users?.id_user||0,nome:e.users?.nome||"N/A",cognome:e.users?.cognome||"N/A",email:e.users?.email||"N/A",enabled:e.users?.enabled||!1},postazione:{id_postazione:e.postazione?.id_postazione||0,nomePostazione:e.postazione?.nomePostazione||"N/A"},stanze:{id_stanza:e.stanze?.id_stanza||0,nome:e.stanze?.nome||"N/A",tipo_stanza:e.stanze?.tipo_stanza||"N/A"}})),console.log("Processed prenotazioni:",this.prenotazioni),console.groupEnd(),this.applySorting(),this.state.isLoading=!1},error:t=>{console.error("Errore nel caricamento delle prenotazioni:",t),this.showErrorToast("Errore","Errore nel caricamento delle prenotazioni"),this.state.isLoading=!1}})}parseDate(t){if(t instanceof Date)return console.log("Value is already a Date"),t;if(Array.isArray(t))try{let[e,i,r,d,u]=t;return new Date(e,i-1,r,d,u)}catch(e){return console.error("Error parsing array date:",e),new Date}if(typeof t=="string"){if(t.includes(","))try{let[e,i,r,d,u]=t.split(",").map(Number);return new Date(e,i-1,r,d,u)}catch(e){return console.error("Error parsing comma-separated date:",e),new Date}try{return new Date(t)}catch(e){return console.error("Error parsing ISO date:",e),new Date}}return console.error("Unknown date format:",t),new Date}isValidDate(t){return t instanceof Date&&!isNaN(t.getTime())}formatDate(t,e){return this.isValidDate(t)&&this.datePipe.transform(t,e,"","it-IT")||"Data non valida"}getFormattedTimeRange(t,e){if(!this.isValidDate(t)||!this.isValidDate(e))return"Orario non valido";let i=this.formatDate(t,"HH:mm"),r=this.formatDate(e,"HH:mm");return`${i} - ${r}`}isValidTimeSlot(){let t=this.bookingForm.get("timeSlot")?.value;return!!(t&&t.start&&t.end)}deletePrenotazione(t){if(!t.id_prenotazioni){this.showErrorToast("Errore di Sistema","Impossibile identificare la prenotazione da eliminare");return}let e=this.formatDate(t.data_inizio,"dd/MM/yyyy"),i=this.getFormattedTimeRange(t.data_inizio,t.data_fine),r=t.postazione?.nomePostazione||"N/A";confirm(`Sei sicuro di voler eliminare la prenotazione?

\u{1F4C5} Data: ${e}
\u23F0 Orario: ${i}
\u{1F4BA} Postazione: ${r}

Questa azione non pu\xF2 essere annullata.`)&&(this.state.isLoading=!0,this.showInfoToast("Eliminazione in corso","Stiamo cancellando la tua prenotazione..."),this.prenotazionePosizioneService.deletePrenotazione(t.id_prenotazioni).pipe(b(this.destroy$)).subscribe({next:()=>{this.clearAllToasts(),this.showSuccessToast("Prenotazione Cancellata",`La prenotazione del ${e} \xE8 stata eliminata con successo`),this.prenotazioni=this.prenotazioni.filter(u=>u.id_prenotazioni!==t.id_prenotazioni),this.applySorting(),this.state.isLoading=!1},error:u=>{console.error("Errore nell'eliminazione della prenotazione:",u),this.clearAllToasts();let z="Si \xE8 verificato un errore durante l'eliminazione della prenotazione";u.message?.includes("non trovata")?z="La prenotazione non \xE8 pi\xF9 disponibile o \xE8 gi\xE0 stata eliminata":u.message?.includes("non autorizzato")&&(z="Non hai i permessi per eliminare questa prenotazione"),this.showErrorToast("Errore nell'Eliminazione",z),this.state.isLoading=!1}}))}showSuccessToast(t,e){this.toastService.showSuccess(t,e)}showErrorToast(t,e){this.toastService.showError(t,e)}showInfoToast(t,e){this.toastService.showInfo(t,e)}showWarningToast(t,e){this.toastService.showWarning(t,e)}clearAllToasts(){this.toastService.clear()}sortTable(t){this.sortColumn===t?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortColumn=t,this.sortDirection="asc"),this.applySorting()}applySorting(){this.sortedPrenotazioni=[...this.prenotazioni].sort((t,e)=>{let i,r;switch(this.sortColumn){case"data_inizio":i=new Date(t.data_inizio),r=new Date(e.data_inizio);break;case"orario":i=new Date(t.data_inizio),r=new Date(e.data_inizio);break;case"utente":i=`${t.users?.nome||""} ${t.users?.cognome||""}`.trim().toLowerCase(),r=`${e.users?.nome||""} ${e.users?.cognome||""}`.trim().toLowerCase();break;default:return 0}return i<r?this.sortDirection==="asc"?-1:1:i>r?this.sortDirection==="asc"?1:-1:0})}getSortIcon(t){return this.sortColumn!==t?"fas fa-sort text-gray-400":this.sortDirection==="asc"?"fas fa-sort-up text-blue-600":"fas fa-sort-down text-blue-600"}isSortedColumn(t){return this.sortColumn===t}static \u0275fac=function(e){return new(e||a)(y(_e),y(pe),y(Z),y(De),y(w))};static \u0275cmp=L({type:a,selectors:[["app-prenotazione-posizione"]],features:[ne([w])],decls:72,vars:41,consts:[[1,"max-w-7xl","mx-auto","p-4","sm:p-6"],[1,"bg-white","rounded-xl","shadow-sm","p-4","sm:p-6","mb-6"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-xl","font-semibold","text-gray-800"],[1,"flex","items-center","space-x-2"],[1,"text-sm","text-gray-500"],[1,"flex","space-x-1"],[1,"w-2","h-2","rounded-full",3,"ngClass"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[1,"md:col-span-2"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"text-sm","font-medium","text-gray-700","mb-3"],[3,"dateSelectionChange","selectedDates"],[1,"flex","flex-col","gap-4"],[1,"p-4","bg-gray-50","rounded-lg"],[1,"flex","justify-between","items-center","mb-3"],[1,"text-sm","font-medium","text-gray-700"],[1,"text-xs","text-gray-500"],[1,"flex","flex-col","gap-2","min-h-[100px]","max-h-[200px]","overflow-y-auto"],["class","flex items-center justify-center h-full text-gray-400 text-sm",4,"ngIf"],["class","flex justify-between items-center text-sm text-gray-600 py-2 px-3 bg-white rounded-lg border border-gray-200 shadow-sm",4,"ngFor","ngForOf"],["formControlName","tipo_stanza",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","duration-200"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","text-sm text-gray-500 mb-2",4,"ngIf"],["formControlName","id_postazione",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","duration-200","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"disabled"],["class","mt-2 text-sm text-gray-600",4,"ngIf"],["formControlName","timeSlot",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","duration-200","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"disabled"],["type","submit",1,"w-full","bg-blue-600","text-white","py-2","px-4","rounded-lg","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","disabled:opacity-50","disabled:cursor-not-allowed","transition-all","duration-200",3,"disabled"],["class","mr-2",4,"ngIf"],["class","p-4 bg-gray-50 rounded-lg text-sm",3,"class",4,"ngIf"],["class","p-4 bg-gray-50 rounded-lg text-sm text-gray-600",4,"ngIf"],[1,"bg-white","rounded-xl","shadow-sm","p-4","sm:p-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-gray-800"],["class","flex justify-center items-center py-8",4,"ngIf"],["class","text-red-600 text-sm mb-4",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],["id","toast-container",1,"fixed","top-4","right-4","z-50","space-y-2"],["position","top-right",3,"showTransitionOptions","hideTransitionOptions"],[1,"flex","items-center","justify-center","h-full","text-gray-400","text-sm"],[1,"flex","justify-between","items-center","text-sm","text-gray-600","py-2","px-3","bg-white","rounded-lg","border","border-gray-200","shadow-sm"],["type","button",1,"text-gray-400","hover:text-red-500","focus:outline-none","transition-colors","duration-200",3,"click"],[1,"fas","fa-times"],[3,"value"],[1,"text-sm","text-gray-500","mb-2"],[1,"fas","fa-info-circle","mr-1"],[1,"mt-2","text-sm","text-gray-600"],[1,"mr-2"],[1,"fas","fa-spinner","fa-spin"],[1,"p-4","bg-gray-50","rounded-lg","text-sm"],[1,"p-4","bg-gray-50","rounded-lg","text-sm","text-gray-600"],[4,"ngIf"],[1,"flex","justify-center","items-center","py-8"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"text-red-600","text-sm","mb-4"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-4","sm:px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["type","button",1,"flex","items-center","space-x-1","hover:text-gray-700","focus:outline-none","transition-colors","duration-200",3,"click"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50 transition-colors duration-150",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50","transition-colors","duration-150"],[1,"px-4","sm:px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-4","sm:px-6","py-4","whitespace-nowrap"],[1,"flex","items-center"],[1,"text-sm"],[1,"font-medium","text-gray-900"],[1,"text-gray-500"],[1,"px-2","py-1","inline-flex","text-xs","leading-5","font-semibold","rounded-full",3,"ngClass"],[1,"px-4","sm:px-6","py-4","whitespace-nowrap","text-sm","font-medium"],["type","button",1,"inline-flex","items-center","px-2.5","py-1.5","border","border-transparent","text-xs","font-medium","rounded","text-red-700","bg-red-100","hover:bg-red-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors","duration-200",3,"click","disabled"],[1,"fas","fa-trash","mr-1"],["colspan","7",1,"px-4","sm:px-6","py-8","text-center","text-sm","text-gray-500"],[1,"flex","flex-col","items-center","justify-center","space-y-2"],[1,"fas","fa-calendar-times","text-gray-400","text-2xl"]],template:function(e,i){if(e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),l(4,"Nuova Prenotazione"),o(),n(5,"div",4)(6,"span",5),l(7,"Step"),o(),n(8,"div",6),g(9,"div",7)(10,"div",7)(11,"div",7)(12,"div",7),o()()(),n(13,"form",8),h("ngSubmit",function(){return i.onSubmit()}),n(14,"div",9)(15,"div",10)(16,"div",11)(17,"h4",12),l(18,"1. Seleziona la data"),o(),n(19,"app-calendar",13),h("dateSelectionChange",function(d){return i.onDateSelectionChange(d)}),o()()(),n(20,"div",14)(21,"div",15)(22,"div",16)(23,"h4",17),l(24,"Data selezionata"),o(),n(25,"span",18),l(26),o()(),n(27,"div",19),f(28,Be,2,0,"div",20)(29,Ue,6,6,"div",21),o()(),n(30,"div",15)(31,"h4",12),l(32,"2. Seleziona il tipo di stanza"),o(),n(33,"select",22)(34,"option",23),l(35,"Seleziona tipo stanza"),o(),f(36,qe,2,2,"option",24),o()(),n(37,"div",15)(38,"h4",12),l(39,"3. Seleziona la postazione"),o(),f(40,He,3,0,"div",25),n(41,"select",26)(42,"option",23),l(43,"Seleziona postazione"),o(),f(44,Ge,2,3,"option",24),o(),f(45,Ye,3,1,"div",27),o(),n(46,"div",15)(47,"h4",12),l(48,"4. Seleziona l'orario"),o(),f(49,Ze,3,0,"div",25)(50,Je,3,0,"div",25),n(51,"select",28)(52,"option",23),l(53,"Seleziona fascia oraria"),o(),f(54,Qe,2,3,"option",24),o()(),n(55,"div",15)(56,"button",29),f(57,Ke,2,0,"span",30),l(58),o()(),f(59,Xe,2,3,"div",31)(60,at,6,5,"div",32),o()()()(),n(61,"div",33)(62,"div",34)(63,"h3",35),l(64,"Le tue prenotazioni"),o(),n(65,"span",5),l(66),o()(),f(67,rt,2,0,"div",36)(68,st,2,1,"div",37)(69,mt,24,6,"div",38),o()(),g(70,"div",39)(71,"p-toast",40)),e&2){let r,d,u,z,M,A,T,P,p;s(9),m("ngClass",O(29,J,i.state.selectedDates.length>0,i.state.selectedDates.length===0)),s(),m("ngClass",O(32,J,(r=i.bookingForm.get("tipo_stanza"))==null?null:r.value,!((r=i.bookingForm.get("tipo_stanza"))!=null&&r.value))),s(),m("ngClass",O(35,J,(d=i.bookingForm.get("id_postazione"))==null?null:d.value,!((d=i.bookingForm.get("id_postazione"))!=null&&d.value))),s(),m("ngClass",O(38,J,(u=i.bookingForm.get("timeSlot"))==null?null:u.value,!((u=i.bookingForm.get("timeSlot"))!=null&&u.value))),s(),m("formGroup",i.bookingForm),s(6),m("selectedDates",i.state.selectedDates),s(7),c("",i.state.selectedDates.length,"/1 data"),s(2),m("ngIf",i.state.selectedDates.length===0),s(),m("ngForOf",i.state.selectedDates),s(7),m("ngForOf",i.tipiStanza),s(4),m("ngIf",!((z=i.bookingForm.get("tipo_stanza"))!=null&&z.value)),s(),m("disabled",!((M=i.bookingForm.get("tipo_stanza"))!=null&&M.value)),s(3),m("ngForOf",i.state.postazioniDisponibili),s(),m("ngIf",(A=i.bookingForm.get("id_postazione"))==null?null:A.value),s(4),m("ngIf",!((T=i.bookingForm.get("id_postazione"))!=null&&T.value)),s(),m("ngIf",((P=i.bookingForm.get("id_postazione"))==null?null:P.value)&&i.state.availableTimeSlots.length===0),s(),m("disabled",!((p=i.bookingForm.get("id_postazione"))!=null&&p.value)||i.state.availableTimeSlots.length===0),s(3),m("ngForOf",i.state.availableTimeSlots),s(2),m("disabled",!i.isFormValid()||i.state.isLoading),s(),m("ngIf",i.state.isLoading),s(),c(" ",i.state.isLoading?"Prenotazione in corso...":"Prenota"," "),s(),m("ngIf",i.state.errorMessage),s(),m("ngIf",!i.isFormValid()),s(6),c("",i.sortedPrenotazioni.length||0," prenotazioni"),s(),m("ngIf",i.state.isLoading),s(),m("ngIf",i.state.errorMessage&&!i.state.errorMessage.includes("successo")),s(),m("ngIf",!i.state.isLoading),s(2),m("showTransitionOptions","300ms ease-out")("hideTransitionOptions","250ms ease-in")}},dependencies:[q,le,B,U,w,xe,ue,ze,be,he,ce,ge,fe,ve,G,Ce,Pe],styles:["[_nghost-%COMP%]     .p-toast{z-index:9999}[_nghost-%COMP%]     .p-toast .p-toast-message{margin:0 0 .5rem;box-shadow:0 10px 25px -5px #0000001a,0 10px 10px -5px #0000000a;border-radius:.75rem;border:none;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);animation:_ngcontent-%COMP%_slideInRight .3s ease-out;min-width:320px;max-width:420px;background:#fffffff2;transform-origin:right center}[_nghost-%COMP%]     .p-toast .p-toast-message.p-toast-message-leave{animation:_ngcontent-%COMP%_slideOutRight .25s ease-in forwards!important;overflow:hidden!important}[_nghost-%COMP%]     .p-toast .p-toast-message.p-toast-message-leave, [_nghost-%COMP%]     .p-toast .p-toast-message.p-toast-message-leave *, [_nghost-%COMP%]     .p-toast .p-toast-message.p-toast-message-leave *:before, [_nghost-%COMP%]     .p-toast .p-toast-message.p-toast-message-leave *:after{transform:none!important;transition:none!important;animation:none!important}[_nghost-%COMP%]     .p-toast .p-toast-message.p-toast-message-leave{animation:_ngcontent-%COMP%_slideOutRight .25s ease-in forwards!important}[_nghost-%COMP%]     .p-toast .p-toast-message.p-toast-message-success{border-left:4px solid #10b981}[_nghost-%COMP%]     .p-toast .p-toast-message.p-toast-message-success .p-toast-message-icon{color:#10b981;background:#dcfce7;border-radius:50%;width:2rem;height:2rem;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]     .p-toast .p-toast-message.p-toast-message-error{border-left:4px solid #ef4444}[_nghost-%COMP%]     .p-toast .p-toast-message.p-toast-message-error .p-toast-message-icon{color:#ef4444;background:#fee2e2;border-radius:50%;width:2rem;height:2rem;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]     .p-toast .p-toast-message.p-toast-message-info{border-left:4px solid #3b82f6}[_nghost-%COMP%]     .p-toast .p-toast-message.p-toast-message-info .p-toast-message-icon{color:#3b82f6;background:#dbeafe;border-radius:50%;width:2rem;height:2rem;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]     .p-toast .p-toast-message.p-toast-message-warn{border-left:4px solid #f59e0b}[_nghost-%COMP%]     .p-toast .p-toast-message.p-toast-message-warn .p-toast-message-icon{color:#f59e0b;background:#fef3c7;border-radius:50%;width:2rem;height:2rem;display:flex;align-items:center;justify-content:center;margin-right:.75rem;flex-shrink:0}[_nghost-%COMP%]     .p-toast .p-toast-message .p-toast-message-icon{margin-right:.75rem;flex-shrink:0}[_nghost-%COMP%]     .p-toast .p-toast-message .p-toast-message-text{flex:1;min-width:0}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_slideOutRight{0%{transform:translate(0);opacity:1}to{transform:translate(100%);opacity:0}}[_nghost-%COMP%]     .p-toast .p-toast-message .p-toast-message-content{padding:1rem;border:none;border-radius:.75rem;background:transparent;display:flex;align-items:flex-start;gap:.75rem}[_nghost-%COMP%]     .p-toast .p-toast-message .p-toast-summary{font-weight:500;color:#111827;font-size:.875rem;margin-bottom:.25rem;line-height:1.4}[_nghost-%COMP%]     .p-toast .p-toast-message .p-toast-detail{color:#6b7280;font-size:.875rem;line-height:1.5;word-wrap:break-word}[_nghost-%COMP%]     .p-toast-top-right{top:1rem;right:1rem}[_nghost-%COMP%]     .p-toast .p-toast-message:hover{transform:translateY(-1px);transition:transform .2s ease}[_nghost-%COMP%]     .p-toast .p-toast-message .p-toast-icon-close{color:#9ca3af;background:transparent;border:none;padding:.375rem;border-radius:.5rem;transition:all .2s ease}[_nghost-%COMP%]     .p-toast .p-toast-message .p-toast-icon-close:hover{color:#4b5563;background:#f3f4f6}"]})};export{ke as a};
