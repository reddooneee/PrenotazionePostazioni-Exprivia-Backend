import{C as ie,E as oe,F as ne,L as Z,M as ae,N as se,O as re,P as le,Q as ce,R as me,S as de,T as he,V as tt,W as O,X as _e,c as Yt,d as Gt,e as bt,g as Xt,l as Wt,o as $t,q as qt,r as Zt,s as Kt,t as vt,v as Jt,w as te,x as v,y as ee}from"./chunk-JCTAXSL2.js";import{a as ue}from"./chunk-GM3XAOD2.js";import{a as nt}from"./chunk-4Z6MCBHL.js";import{C as K,D as J,E as pe}from"./chunk-46GDKIRE.js";import{a as et}from"./chunk-2I77I3E3.js";import"./chunk-BYXBJQAS.js";import{a as R}from"./chunk-FZYR36Q4.js";import"./chunk-HYC2QBNA.js";import{c as Ut,d as Bt,f as gt,g as ft,i as Vt}from"./chunk-MUYZMUET.js";import{b as T}from"./chunk-SI2F5UYO.js";import{a as it,b as ot}from"./chunk-FM2UL4ME.js";import{Aa as k,Ba as B,Da as g,Db as zt,H as b,Ha as l,Ja as f,Kb as Ft,L as N,M as w,N as dt,Nb as Y,Ob as jt,P as _,Pa as a,Pb as G,Qa as s,Ra as d,Sa as C,Ta as S,Tb as Nt,V as I,Va as M,W as A,Wb as X,Xa as y,Ya as p,_ as At,a as F,ab as pt,ba as Mt,bb as V,cb as H,d as Ct,da as U,fc as Ht,g as j,gb as h,gc as W,h as St,hb as L,hc as $,ib as _t,ja as Lt,jb as Q,jc as q,mc as Qt,n as Tt,na as ht,pa as Dt,pb as ut,qa as r,s as It,sb as Ot,ua as u,vb as Rt,w as mt,wa as Et,xb as Pt,za as x}from"./chunk-CEITJAHH.js";var Ie=["tooltip"],xt=20;var yt=new dt("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let i=_(Z);return()=>i.scrollStrategies.reposition({scrollThrottle:xt})}});function be(i){return()=>i.scrollStrategies.reposition({scrollThrottle:xt})}var ve={provide:yt,deps:[Z],useFactory:be};function xe(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var ye=new dt("mat-tooltip-default-options",{providedIn:"root",factory:xe});var ge="tooltip-panel",fe=Gt({passive:!0}),Ae=8,Me=8,Le=24,De=200,wt=(()=>{class i{_elementRef=_(U);_ngZone=_(Mt);_platform=_(Yt);_ariaDescriber=_(Zt);_focusMonitor=_(Xt);_dir=_(Kt);_injector=_(At);_viewContainerRef=_(Et);_defaultOptions=_(ye,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=we;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=vt(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){let e=vt(t);this._disabled!==e&&(this._disabled=e,e?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=bt(t)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=bt(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(t){let e=this._message;this._message=t!=null?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(e)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new j;_isDestroyed=!1;constructor(){let t=this._defaultOptions;t&&(this._showDelay=t.showDelay,this._hideDelay=t.hideDelay,t.position&&(this.position=t.position),t.positionAtOrigin&&(this.positionAtOrigin=t.positionAtOrigin),t.touchGestures&&(this.touchGestures=t.touchGestures),t.tooltipClass&&(this.tooltipClass=t.tooltipClass)),this._viewportMargin=Ae}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(b(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([e,o])=>{t.removeEventListener(e,o,fe)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,e){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let o=this._createOverlay(e);this._detach(),this._portal=this._portal||new ne(this._tooltipComponent,this._viewContainerRef);let c=this._tooltipInstance=o.attach(this._portal).instance;c._triggerElement=this._elementRef.nativeElement,c._mouseLeaveHideDelay=this._hideDelay,c.afterHidden().pipe(b(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),c.show(t)}hide(t=this.hideDelay){let e=this._tooltipInstance;e&&(e.isVisible()?e.hide(t):(e._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){let m=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&m._origin instanceof U)return this._overlayRef;this._detach()}let e=this._injector.get(Jt).getAncestorScrollContainers(this._elementRef),o=this._injector.get(Z),c=o.position().flexibleConnectedTo(this.positionAtOrigin?t||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return c.positionChanges.pipe(b(this._destroyed)).subscribe(m=>{this._updateCurrentPositionClass(m.connectionPair),this._tooltipInstance&&m.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=o.create({direction:this._dir,positionStrategy:c,panelClass:`${this._cssClassPrefix}-${ge}`,scrollStrategy:this._injector.get(yt)()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(b(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(b(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(b(this._destroyed)).subscribe(m=>{this._isTooltipVisible()&&m.keyCode===27&&!qt(m)&&(m.preventDefault(),m.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(b(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){let e=t.getConfig().positionStrategy,o=this._getOrigin(),c=this._getOverlayPosition();e.withPositions([this._addOffset(F(F({},o.main),c.main)),this._addOffset(F(F({},o.fallback),c.fallback))])}_addOffset(t){let e=Me,o=!this._dir||this._dir.value=="ltr";return t.originY==="top"?t.offsetY=-e:t.originY==="bottom"?t.offsetY=e:t.originX==="start"?t.offsetX=o?-e:e:t.originX==="end"&&(t.offsetX=o?e:-e),t}_getOrigin(){let t=!this._dir||this._dir.value=="ltr",e=this.position,o;e=="above"||e=="below"?o={originX:"center",originY:e=="above"?"top":"bottom"}:e=="before"||e=="left"&&t||e=="right"&&!t?o={originX:"start",originY:"center"}:(e=="after"||e=="right"&&t||e=="left"&&!t)&&(o={originX:"end",originY:"center"});let{x:c,y:m}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:c,originY:m}}}_getOverlayPosition(){let t=!this._dir||this._dir.value=="ltr",e=this.position,o;e=="above"?o={overlayX:"center",overlayY:"bottom"}:e=="below"?o={overlayX:"center",overlayY:"top"}:e=="before"||e=="left"&&t||e=="right"&&!t?o={overlayX:"end",overlayY:"center"}:(e=="after"||e=="right"&&t||e=="left"&&!t)&&(o={overlayX:"start",overlayY:"center"});let{x:c,y:m}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:c,overlayY:m}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),ht(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return this.position==="above"||this.position==="below"?e==="top"?e="bottom":e==="bottom"&&(e="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:e}}_updateCurrentPositionClass(t){let{overlayY:e,originX:o,originY:c}=t,m;if(e==="center"?this._dir&&this._dir.value==="rtl"?m=o==="end"?"left":"right":m=o==="start"?"left":"right":m=e==="bottom"&&c==="top"?"above":"below",m!==this._currentPosition){let E=this._overlayRef;if(E){let ct=`${this._cssClassPrefix}-${ge}-`;E.removePanelClass(ct+this._currentPosition),E.addPanelClass(ct+m)}this._currentPosition=m}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{this._setupPointerExitEventsIfNeeded();let e;t.x!==void 0&&t.y!==void 0&&(e=t),this.show(void 0,e)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{let e=t.targetTouches?.[0],o=e?{x:e.clientX,y:e.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let c=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,o)},this._defaultOptions?.touchLongPressShowDelay??c)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",e=>{let o=e.relatedTarget;(!o||!this._overlayRef?.overlayElement.contains(o))&&this.hide()}],["wheel",e=>this._wheelListener(e)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let e=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};t.push(["touchend",e],["touchcancel",e])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([e,o])=>{this._elementRef.nativeElement.addEventListener(e,o,fe)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){let e=this._injector.get(Ft).elementFromPoint(t.clientX,t.clientY),o=this._elementRef.nativeElement;e!==o&&!o.contains(e)&&this.hide()}}_disableNativeGesturesIfNecessary(){let t=this.touchGestures;if(t!=="off"){let e=this._elementRef.nativeElement,o=e.style;(t==="on"||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA")&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),(t==="on"||!e.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._isDestroyed||ht({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(e){return new(e||i)};static \u0275dir=B({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(e,o){e&2&&f("mat-mdc-tooltip-disabled",o.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return i})(),we=(()=>{class i{_changeDetectorRef=_(zt);_elementRef=_(U);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new j;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let t=_(Lt,{optional:!0});this._animationsDisabled=t==="NoopAnimations"}show(t){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>Le&&t.width>=De}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){let e=this._tooltip.nativeElement,o=this._showAnimation,c=this._hideAnimation;if(e.classList.remove(t?c:o),e.classList.add(t?o:c),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let m=getComputedStyle(e);(m.getPropertyValue("animation-duration")==="0s"||m.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(e.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=x({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(e,o){if(e&1&&pt(Ie,7),e&2){let c;V(c=H())&&(o._tooltip=c.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(e,o){e&1&&y("mouseleave",function(m){return o._handleMouseLeave(m)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(e,o){if(e&1){let c=M();a(0,"div",1,0),y("animationend",function(E){return I(c),A(o._handleAnimationEnd(E))}),a(2,"div",2),h(3),s()()}e&2&&(f("mdc-tooltip--multiline",o._isMultiline),l("ngClass",o.tooltipClass),r(3),L(o.message))},dependencies:[Y],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return i})(),kt=(()=>{class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=k({type:i});static \u0275inj=w({providers:[ve],imports:[$t,ae,v,v,te]})}return i})();var P=class i{isCollapsedSubject=new St(!1);constructor(){this.checkWindowSize()}checkWindowSize(){this.isCollapsedSubject.next(window.innerWidth<768)}get isCollapsed$(){return this.isCollapsedSubject.asObservable()}get isCollapsed(){return this.isCollapsedSubject.value}toggleSidebar(){this.isCollapsedSubject.next(!this.isCollapsedSubject.value)}setCollapsed(n){this.isCollapsedSubject.next(n)}updateForWindowResize(){this.checkWindowSize()}static \u0275fac=function(t){return new(t||i)};static \u0275prov=N({token:i,factory:i.\u0275fac,providedIn:"root"})};function Ne(i,n){if(i&1){let t=M();a(0,"div",7)(1,"a",8),d(2,"img",9),s(),a(3,"button",10),y("click",function(){I(t);let o=p();return A(o.toggleSidebar())}),d(4,"lucide-icon",11),s()()}i&2&&(r(),l("routerLink","/dashboard"))}function Ue(i,n){if(i&1){let t=M();a(0,"button",12),y("click",function(){I(t);let o=p();return A(o.toggleSidebar())}),d(1,"lucide-icon",13),s()}i&2&&l("matTooltip","Espandi sidebar")("matTooltipPosition","right")}function Be(i,n){if(i&1&&(C(0),a(1,"a",17),d(2,"lucide-icon",18),a(3,"span",19),h(4),s()(),S()),i&2){let t=p().$implicit,e=p();r(),f("px-4",!e.isCollapsed)("justify-center",e.isCollapsed)("gap-3",!e.isCollapsed)("bg-slate-100",e.isRouteActive(t.route)),l("routerLink",t.route)("matTooltip",e.isCollapsed?t.label:"")("matTooltipPosition","right"),r(),l("name",t.icon),r(),f("opacity-0",e.isCollapsed)("hidden",e.isCollapsed),r(),L(t.label)}}function Ve(i,n){if(i&1&&(a(0,"a",26),d(1,"lucide-icon",27),a(2,"span",28),h(3),s()()),i&2){let t=p().$implicit,e=p(3);f("bg-slate-100",e.isRouteActive(t.route)),l("routerLink",t.route),r(),l("name",t.icon),r(2),L(t.label)}}function He(i,n){if(i&1&&(C(0),g(1,Ve,4,5,"a",25),S()),i&2){let t=n.$implicit,e=p(3);r(),l("ngIf",e.isNavItemVisible(t))}}function Qe(i,n){if(i&1&&(a(0,"mat-expansion-panel",20)(1,"mat-expansion-panel-header",21)(2,"mat-panel-title",22),d(3,"lucide-icon",18),a(4,"span",23),h(5),s()()(),a(6,"div",24),g(7,He,2,1,"ng-container",5),s()()),i&2){let t=p().$implicit,e=p();f("mat-elevation-z0",!0),l("expanded",e.isRouteActive(t.route)),r(),f("bg-slate-100",e.isRouteActive(t.route)),r(2),l("name",t.icon),r(2),L(t.label),r(2),l("ngForOf",t.children)}}function Ye(i,n){if(i&1&&(a(0,"a",29),d(1,"lucide-icon",18),s()),i&2){let t=p().$implicit,e=p();f("bg-slate-100",e.isRouteActive(t.route)),l("routerLink",t.route)("matTooltip",t.label)("matTooltipPosition","right"),r(),l("name",t.icon)}}function Ge(i,n){if(i&1&&(C(0),g(1,Be,5,17,"ng-container",14)(2,Qe,8,8,"mat-expansion-panel",15)(3,Ye,2,6,"a",16),S()),i&2){let t=n.$implicit,e=p();r(),l("ngIf",!t.children&&e.isNavItemVisible(t)),r(),l("ngIf",t.children&&(!t.adminOnly||e.isAdmin)&&!e.isCollapsed),r(),l("ngIf",t.children&&(!t.adminOnly||e.isAdmin)&&e.isCollapsed)}}function Xe(i,n){if(i&1&&(a(0,"div",35)(1,"div",36),d(2,"lucide-icon",37),a(3,"span",38),h(4),s()(),a(5,"span",39),h(6),s()()),i&2){let t=p(2);r(4),Q("",t.currentUser==null?null:t.currentUser.nome," ",t.currentUser==null?null:t.currentUser.cognome,""),r(2),L(t.getRoleDisplayName(t.currentUser==null?null:t.currentUser.authorities))}}function We(i,n){if(i&1){let t=M();a(0,"div",30),g(1,Xe,7,3,"div",31),a(2,"button",32),y("click",function(){I(t);let o=p();return A(o.logout())}),d(3,"lucide-icon",33),a(4,"span",34),h(5,"Disconnetti"),s()()()}if(i&2){let t=p();f("py-3",t.isCollapsed),r(),l("ngIf",!t.isCollapsed),r(),f("w-full",!t.isCollapsed),l("matTooltip",t.isCollapsed?"Disconnetti":"")("matTooltipPosition","right"),r(2),f("hidden",t.isCollapsed)}}var at=class i{constructor(n,t,e,o){this.authService=n;this.loginService=t;this.navigationService=e;this.sidebarService=o;this.isCollapsed=this.sidebarService.isCollapsed}isAdmin=!1;isAuthenticated=!1;currentUser=null;isCollapsed=!1;navItems=[];destroy$=new j;COLLAPSE_WIDTH=768;onResize(){this.handleResponsiveSidebar(),this.sidebarService.updateForWindowResize()}toggleSidebar(){this.sidebarService.toggleSidebar()}getRoleDisplayName(n){if(!n?.length)return"Ruolo sconosciuto";let t={ROLE_ADMIN:"Amministratore",ROLE_USER:"Dipendente"},e=n.find(o=>o in t);return t[e||""]||"Ruolo sconosciuto"}ngOnInit(){this.handleResponsiveSidebar(),this.sidebarService.isCollapsed$.pipe(b(this.destroy$)).subscribe(n=>{this.isCollapsed=n}),this.authService.getAuthenticationState().pipe(b(this.destroy$),mt(()=>(this.resetAuthState(),[]))).subscribe(n=>{this.isAuthenticated=n,n?this.loadUserIdentity():this.resetAuthState()}),this.navigationService.getNavigationItems().pipe(b(this.destroy$)).subscribe(n=>this.navItems=n)}loadUserIdentity(){this.authService.getIdentity().pipe(b(this.destroy$),mt(()=>(this.resetAuthState(),[]))).subscribe(n=>{this.currentUser=n,this.isAdmin=n?.authorities?.includes("ROLE_ADMIN")||!1,n?.authorities&&this.navigationService.updateNavigationItems(n.authorities)})}resetAuthState(){this.isAuthenticated=!1,this.currentUser=null,this.isAdmin=!1,this.navigationService.updateNavigationItems([])}logout(){this.loginService.logout()}isRouteActive(n){return this.navigationService.isRouteActive(n)}isNavItemVisible(n){return!this.currentUser?.authorities||n.adminOnly&&!this.isAdmin?!1:!n.authorities||n.authorities.some(t=>this.currentUser?.authorities?.includes(t))}handleResponsiveSidebar(){window.innerWidth<this.COLLAPSE_WIDTH&&!this.isCollapsed?this.sidebarService.setCollapsed(!0):window.innerWidth>=this.COLLAPSE_WIDTH&&this.isCollapsed&&this.sidebarService.setCollapsed(!1)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||i)(u(T),u(O),u(pe),u(P))};static \u0275cmp=x({type:i,selectors:[["app-sidebar"]],hostBindings:function(t,e){t&1&&y("resize",function(c){return e.onResize(c)},!1,Dt)},decls:7,vars:6,consts:[[1,"h-screen","bg-white","border-r","border-slate-200","flex","flex-col","fixed","left-0","top-0","z-40","overflow-hidden"],[1,"py-4","px-4","border-b","border-slate-200","flex","items-center","justify-center"],["class","flex items-center justify-between w-full",4,"ngIf"],["class","bg-white border border-slate-200 rounded-full p-2 shadow-sm hover:shadow-md transition-all duration-200 hover:scale-105 cursor-pointer","aria-label","Espandi sidebar",3,"matTooltip","matTooltipPosition","click",4,"ngIf"],["displayMode","flat",1,"flex-grow","overflow-y-auto",3,"multi"],[4,"ngFor","ngForOf"],["class","p-4 flex flex-col items-center justify-center gap-2 border-t border-slate-200",3,"py-3",4,"ngIf"],[1,"flex","items-center","justify-between","w-full"],[3,"routerLink"],["src","LogoExprivia.svg","alt","Logo Exprivia",1,"h-10","w-auto"],["aria-label","Comprimi sidebar",1,"bg-white","border","border-slate-200","rounded-full","p-1.5","shadow-sm","hover:shadow-md","transition-all","duration-200","hover:scale-105","ml-2","cursor-pointer",3,"click"],["name","panel-left-close",1,"w-4","h-4","text-gray-600"],["aria-label","Espandi sidebar",1,"bg-white","border","border-slate-200","rounded-full","p-2","shadow-sm","hover:shadow-md","transition-all","duration-200","hover:scale-105","cursor-pointer",3,"click","matTooltip","matTooltipPosition"],["name","panel-left-open",1,"w-5","h-5","text-gray-600"],[4,"ngIf"],["class","border-b border-slate-200 !bg-transparent",3,"mat-elevation-z0","expanded",4,"ngIf"],["class","py-3 flex items-center justify-center text-gray-700 hover:bg-slate-100 transition-colors duration-200 ease-in-out",3,"routerLink","bg-slate-100","matTooltip","matTooltipPosition",4,"ngIf"],[1,"py-3","flex","items-center","text-gray-700","hover:bg-slate-100","transition-colors","duration-200","ease-in-out",3,"routerLink","matTooltip","matTooltipPosition"],[1,"w-5","h-5","text-gray-600","flex-shrink-0",3,"name"],[1,"text-sm","font-medium","transition-opacity","duration-200","whitespace-nowrap"],[1,"border-b","border-slate-200","!bg-transparent",3,"expanded"],[1,"hover:bg-slate-100","transition-colors","duration-200","ease-in-out","py-3","px-4"],[1,"flex","items-center","gap-3","!h-auto"],[1,"text-sm","font-medium","text-gray-700","whitespace-nowrap"],[1,"py-1"],["class","px-4 py-2 flex items-center gap-3 text-gray-700 hover:bg-slate-100 transition-colors duration-200 ease-in-out",3,"routerLink","bg-slate-100",4,"ngIf"],[1,"px-4","py-2","flex","items-center","gap-3","text-gray-700","hover:bg-slate-100","transition-colors","duration-200","ease-in-out",3,"routerLink"],[1,"w-4","h-4","text-gray-500","flex-shrink-0",3,"name"],[1,"text-sm","whitespace-nowrap"],[1,"py-3","flex","items-center","justify-center","text-gray-700","hover:bg-slate-100","transition-colors","duration-200","ease-in-out",3,"routerLink","matTooltip","matTooltipPosition"],[1,"p-4","flex","flex-col","items-center","justify-center","gap-2","border-t","border-slate-200"],["class","flex flex-col items-center gap-2 text-gray-700",4,"ngIf"],["aria-label","Logout",1,"px-3","py-2","flex","items-center","justify-center","gap-2","text-sm","font-medium","text-gray-700","hover:text-red-600","hover:bg-red-50","rounded-lg","transition-all","duration-200","transform","hover:scale-105","active:scale-95","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:ring-offset-2","cursor-pointer",3,"click","matTooltip","matTooltipPosition"],["name","log-out",1,"w-5","h-5","flex-shrink-0"],[1,"whitespace-nowrap"],[1,"flex","flex-col","items-center","gap-2","text-gray-700"],[1,"flex","items-center","gap-2"],["name","user",1,"w-5","h-5","text-gray-600","flex-shrink-0"],[1,"font-medium","whitespace-nowrap"],[1,"text-sm","text-gray-500","whitespace-nowrap"]],template:function(t,e){t&1&&(a(0,"div",0)(1,"div",1),g(2,Ne,5,1,"div",2)(3,Ue,2,2,"button",3),s(),a(4,"mat-accordion",4),g(5,Ge,4,3,"ng-container",5),s(),g(6,We,6,9,"div",6),s()),t&2&&(l("@sidebarWidth",e.isCollapsed?"collapsed":"expanded"),r(2),l("ngIf",!e.isCollapsed),r(),l("ngIf",e.isCollapsed),r(),l("multi",!1),r(),l("ngForOf",e.navItems),r(),l("ngIf",e.isAuthenticated))},dependencies:[X,jt,G,q,$,de,me,re,le,ce,tt,kt,wt,J,K],encapsulation:2,data:{animation:[Ut("sidebarWidth",[ft("expanded",gt({width:"256px"})),ft("collapsed",gt({width:"72px"})),Vt("expanded <=> collapsed",[Bt("200ms ease-in-out")])])]}})};var Ce=(()=>{class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=k({type:i});static \u0275inj=w({imports:[v,v]})}return i})();var st=(()=>{class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=k({type:i});static \u0275inj=w({imports:[v,v]})}return i})();var Se=(()=>{class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=k({type:i});static \u0275inj=w({imports:[Wt,v,ie,se,st]})}return i})();var rt=class i{postazioneService=_(R);getDeskAvailabilityPercentage(n,t){return t===0?"0%":`${Math.round(n/t*100)}%`}static \u0275fac=function(t){return new(t||i)};static \u0275prov=N({token:i,factory:i.\u0275fac,providedIn:"root"})};var ti=(i,n)=>({"ml-sidebar-expanded":i,"ml-sidebar-collapsed":n});function ei(i,n){i&1&&(C(0),d(1,"app-header"),S())}function ii(i,n){i&1&&d(0,"app-sidebar")}function oi(i,n){if(i&1&&(a(0,"span",15),h(1),s()),i&2){let t=p(2);r(),_t(" ",t.notificationCount," ")}}function ni(i,n){if(i&1&&(a(0,"div",6)(1,"div",7)(2,"div",8)(3,"h1",9),h(4),s(),a(5,"p",10),h(6),Rt(7,"date"),s()(),a(8,"div",11)(9,"button",12),d(10,"lucide-icon",13),g(11,oi,2,1,"span",14),s()()()()),i&2){let t=p();r(4),_t(" Benvenuto, ",t.currentUser==null?null:t.currentUser.nome," "),r(2),Q(" ",Pt(7,4,t.currentDate,"EEEE d MMMM yyyy")," - ",t.currentTime," "),r(5),l("ngIf",t.notificationCount>0)}}function ai(i,n){i&1&&(C(0),d(1,"app-prenotazione-posizione"),S())}function si(i,n){if(i&1&&(a(0,"div",16),g(1,ai,2,0,"ng-container",1),a(2,"div",17),d(3,"router-outlet"),s()()),i&2){let t=p();r(),l("ngIf",t.isHomeRoute())}}function ri(i,n){i&1&&(C(0),a(1,"div",18)(2,"div",19)(3,"div")(4,"h2",20),h(5,"Dashboard Amministratore"),s(),a(6,"p",21),h(7,"Panoramica completa del sistema di prenotazioni"),s()()()(),a(8,"div",22)(9,"button",23)(10,"div",24)(11,"div",25),d(12,"lucide-icon",26),s(),d(13,"lucide-icon",27),s(),a(14,"h3",28),h(15,"Nuova Prenotazione Personale"),s(),a(16,"p",10),h(17,"Crea prenotazioni personali"),s()(),a(18,"button",29)(19,"div",24)(20,"div",30),d(21,"lucide-icon",31),s(),d(22,"lucide-icon",27),s(),a(23,"h3",28),h(24,"Gestione Prenotazioni"),s(),a(25,"p",10),h(26,"Visualizza e gestisci tutte le prenotazioni del sistema"),s()(),a(27,"button",32)(28,"div",24)(29,"div",33),d(30,"lucide-icon",34),s(),d(31,"lucide-icon",27),s(),a(32,"h3",28),h(33,"Gestione Utenti"),s(),a(34,"p",10),h(35,"Amministra utenti, ruoli e permessi del sistema"),s()()(),a(36,"div",35)(37,"button",36)(38,"div",24)(39,"div",37),d(40,"i",38),s(),d(41,"lucide-icon",27),s(),a(42,"h3",28),h(43,"Statistiche Avanzate"),s(),a(44,"p",10),h(45,"Visualizza report dettagliati e analisi del sistema di prenotazioni"),s()()(),S())}function li(i,n){if(i&1&&(a(0,"div",16),g(1,ri,46,0,"ng-container",1),a(2,"div",17),d(3,"router-outlet"),s()()),i&2){let t=p();r(),l("ngIf",t.isHomeRoute())}}var lt=class i{constructor(n,t,e,o,c,m,E,ct,ci,mi){this.authService=n;this.router=t;this.loginService=e;this.userService=o;this.postazioneService=c;this.prenotazioneService=m;this.utilsService=E;this.dashboardService=ct;this.adminService=ci;this.sidebarService=mi}isAdmin=!1;isUser=!1;isAuthenticated=!1;currentUser=null;authSubscription=null;activeRoute="";currentDate=new Date;currentTime=new Date().toLocaleTimeString();timeSubscription;notificationCount=0;isSidebarCollapsed=!1;ngOnInit(){return Ct(this,null,function*(){this.activeRoute=this.router.url,this.updateAuthState(),this.authSubscription=this.authService.getAuthenticationState().subscribe(n=>{this.isAuthenticated=n,n?this.authService.getIdentity().subscribe(t=>{this.currentUser=t,this.isAdmin=t?.authorities?.includes("ROLE_ADMIN")??!1,this.isUser=t?.authorities?.includes("ROLE_USER")??!1}):(this.currentUser=null,this.isAdmin=!1,this.isUser=!1)}),this.timeSubscription=It(1e3).pipe(Tt(()=>new Date().toLocaleTimeString())).subscribe(n=>{this.currentTime=n}),this.sidebarService.isCollapsed$.subscribe(n=>{this.isSidebarCollapsed=n})})}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe(),this.timeSubscription&&this.timeSubscription.unsubscribe()}updateAuthState(){this.isAuthenticated=this.authService.isAuthenticated(),this.isAuthenticated&&this.authService.getIdentity().subscribe(n=>{this.currentUser=n,this.isAdmin=n?.authorities?.includes("ROLE_ADMIN")??!1,this.isUser=n?.authorities?.includes("ROLE_USER")??!1})}logout(){this.loginService.logout()}isRouteActive(n){let t=this.activeRoute.replace(/\/$/,""),e=n.replace(/\/$/,"");return e===""?t===""||t==="/":e==="/dashboard"?t==="/dashboard"||t.startsWith("/dashboard/"):e==="/accedi"?t==="/accedi":e==="/registrazione"?t==="/registrazione":e==="/dashboard/user-management"?t==="/dashboard/user-management":t===e||e!=="/"&&t.startsWith(e)}isHomeRoute(){return this.router.url==="/dashboard"||this.router.url==="/dashboard/"}static \u0275fac=function(t){return new(t||i)(u(T),u(W),u(O),u(et),u(R),u(ot),u(nt),u(rt),u(it),u(P))};static \u0275cmp=x({type:i,selectors:[["app-dashboard"]],features:[ut([T,O,et,R,ot,Qt,nt,it])],decls:8,vars:9,consts:[[1,"flex","flex-col","min-h-screen","bg-gradient-to-br","from-expriviaBlue","to-expriviaBlue/70"],[4,"ngIf"],[1,"flex","flex-1"],[1,"flex-1","flex","flex-col","bg-white","transition-all","duration-200",3,"ngClass"],["class","p-6 bg-cover bg-center border-b border-gray-200",4,"ngIf"],["class","flex-1 p-6 space-y-6 overflow-auto bg-gradient-to-br from-expriviaBlue to-expriviaBlue/70",4,"ngIf"],[1,"p-6","bg-cover","bg-center","border-b","border-gray-200"],[1,"flex","justify-between","items-center"],[1,"space-y-1"],[1,"text-2xl","font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"flex","items-center","gap-4"],[1,"relative","p-2","text-gray-600","hover:text-gray-900","hover:bg-gray-100","rounded-full"],["name","bell",1,"w-6","h-6"],["class","absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",4,"ngIf"],[1,"absolute","-top-1","-right-1","bg-red-500","text-white","text-xs","rounded-full","w-5","h-5","flex","items-center","justify-center"],[1,"flex-1","p-6","space-y-6","overflow-auto","bg-gradient-to-br","from-expriviaBlue","to-expriviaBlue/70"],[1,"w-full"],[1,"bg-white","rounded-xl","shadow-sm","p-6","border","border-gray-200","mb-6"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-4"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6","mb-6"],["routerLink","prenotazione-posizione",1,"bg-white","rounded-xl","shadow-sm","p-6","border","border-gray-200","hover:shadow-md","transition-all","text-left","group","cursor-pointer"],[1,"flex","items-center","justify-between","mb-4"],[1,"p-3","bg-blue-50","rounded-lg","group-hover:bg-blue-100","transition-colors"],["name","plus",1,"w-6","h-6","text-blue-600"],["name","arrow-right",1,"w-5","h-5","text-gray-400","group-hover:text-gray-600"],[1,"font-semibold","text-gray-900","mb-2"],["routerLink","bookings",1,"bg-white","rounded-xl","shadow-sm","p-6","border","border-gray-200","hover:shadow-md","transition-all","text-left","group","cursor-pointer"],[1,"p-3","bg-green-50","rounded-lg","group-hover:bg-green-100","transition-colors"],["name","calendar",1,"w-6","h-6","text-green-600"],["routerLink","user-management",1,"bg-white","rounded-xl","shadow-sm","p-6","border","border-gray-200","hover:shadow-md","transition-all","text-left","group","cursor-pointer"],[1,"p-3","bg-purple-50","rounded-lg","group-hover:bg-purple-100","transition-colors"],["name","users",1,"w-6","h-6","text-purple-600"],[1,"grid","grid-cols-1","gap-6"],["routerLink","statistiche",1,"bg-white","rounded-xl","shadow-sm","p-6","border","border-gray-200","hover:shadow-md","transition-all","text-left","group","cursor-pointer"],[1,"p-3","bg-orange-50","rounded-lg","group-hover:bg-orange-100","transition-colors"],[1,"fas","fa-chart-bar","text-orange-600","text-xl"]],template:function(t,e){t&1&&(a(0,"div",0),g(1,ei,2,0,"ng-container",1),a(2,"div",2),g(3,ii,1,0,"app-sidebar",1),a(4,"main",3),g(5,ni,12,7,"div",4)(6,si,4,1,"div",5)(7,li,4,1,"div",5),s()()()),t&2&&(r(),l("ngIf",!e.isAdmin),r(2),l("ngIf",e.isAdmin),r(),l("ngClass",Ot(6,ti,e.isAdmin&&!e.isSidebarCollapsed,e.isAdmin&&e.isSidebarCollapsed)),r(),l("ngIf",e.isAdmin),r(),l("ngIf",!e.isAdmin),r(),l("ngIf",e.isAdmin))},dependencies:[X,Y,G,Nt,q,Ht,$,J,K,at,ue,_e,ee,Ce,Se,tt,oe,he,st],encapsulation:2})};var z=(i,n)=>{let t=_(T),e=_(W),o=i.data.authorities;return!o||o.length===0?!0:t.isAuthenticated()?t.hasAnyAuthority(o)?!0:e.createUrlTree(["/forbidden"]):e.createUrlTree(["/"],{queryParams:{returnUrl:n.url}})};var Ko=[{path:"",component:lt,children:[{path:"user-management",loadComponent:()=>import("./chunk-XNVAVYPR.js").then(i=>i.UserListComponent),data:{authorities:["ROLE_ADMIN"]},canActivate:[z]},{path:"prenotazione-posizione",loadComponent:()=>import("./chunk-SFD2AAPB.js").then(i=>i.PrenotazionePosizioneComponent),data:{authorities:["ROLE_USER","ROLE_ADMIN"]},canActivate:[z]},{path:"bookings",loadComponent:()=>import("./chunk-I257W23R.js").then(i=>i.UserBookingsComponent),data:{authorities:["ROLE_ADMIN"]},canActivate:[z]},{path:"update-user",loadComponent:()=>import("./chunk-QYQO5HBL.js").then(i=>i.UpdateUserComponent),data:{authorities:["ROLE_ADMIN","ROLE_USER"]},canActivate:[z]},{path:"statistiche",loadComponent:()=>import("./chunk-GSP3F4KD.js").then(i=>i.StatsComponent),data:{authorities:["ROLE_ADMIN"]},canActivate:[z]}]}];export{Ko as DASHBOARD_ROUTES};
